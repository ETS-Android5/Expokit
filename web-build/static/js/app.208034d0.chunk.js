(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{187:function(e,t,n){e.exports=n.p+"static/media/logo-black.422dbd70.png"},270:function(e,t,n){e.exports=n.p+"static/media/gradient.40114e63.png"},597:function(e,t,n){e.exports=n.p+"static/media/splash.8448d4ee.png"},598:function(e,t,n){e.exports=n.p+"static/media/logo-white.3aff72bc.png"},610:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Bold.ttf"},611:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Medium.ttf"},612:function(e,t,n){e.exports=n.p+"./fonts/Montserrat-Regular.ttf"},613:function(e,t,n){e.exports=n.p+"static/media/logo-square.caa44d89.png"},616:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(35),i=n.n(o),s=(n(650),n(0)),c=n.n(s),l=n(567),u=n(29),d=n(195),p=n(1034),m=n(4),f=n(587),b=n(83),h=n(113),g=n(56),y=n(68),v=g.a.get("window").width,E={$blueLight:"#479DFF",$blue:"#0E6AD2",$blueDark:"#130769",$white:"#FFFFFF",$text:"#34446E",$grey:"#7E879F",$greyLight:"#CBCCD9",$greyLighter:"#EDEEF5",$greyLightest:"#FBFBFB",$borderColor:"#0000003D",$red:"#FF4154",$peach:"#FEB779",$peachLight:"#FEB7790D",$green:"#1DD2C1",$windowWidth:v,$windowHeight:g.a.get("window").height,$statusBarHeight:y.a.statusBarHeight,$borderRadius:10,$rem:v>340?18:16,$fontRegular:"Montserrat-Regular",$fontMedium:"Montserrat-Medium",$fontBold:"Montserrat-Bold"},O=n(25),w=n.n(O),S=n(42),x=n.n(S),C=n(143),T=n(95),j=n(3),I=n(1030),k=n(67),N=n(97),P=n(187),R=n.n(P),A=m.a.create({container:{shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27,elevation:10,backgroundColor:"$white",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingBottom:"1rem"},containerLight:{shadowColor:"#000",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:1,elevation:0},backControl:{height:"3rem",width:"3rem",justifyContent:"center",alignItems:"center"},backControlActive:{backgroundColor:"$greyLight"},notificationControl:{height:"3rem",width:"3rem",justifyContent:"center",alignItems:"center"},notificationBubble:{height:"1.5rem",width:"1.5rem",backgroundColor:"$blueLight",borderRadius:"1rem",justifyContent:"center",alignItems:"center",position:"relative"},hasNotification:{height:".5rem",aspectRatio:1,borderRadius:".25rem",position:"absolute",backgroundColor:"$red",top:0,right:0}}),F={height:m.a.value("2.5rem"),width:m.a.value("10rem")};var D=Object(C.j)((function(e){var t=e.history,n=e.location,a=e.hasNotification,r=void 0!==a&&a,o="/dashboard"===n.pathname;return c.a.createElement(j.a,{style:[A.container,o&&A.containerLight,{paddingTop:m.a.value("1rem"),height:m.a.value("3rem")}]},!o&&c.a.createElement(j.a,null,c.a.createElement(N.a,{onPress:function(){return o?null:t.goBack()},style:[A.backControl,!o&&A.backControlActive]},c.a.createElement(j.a,{accessible:!0},c.a.createElement(I.a,{color:m.a.value("$blueDark"),name:"ios-arrow-back",size:m.a.value("1rem")})))),!o&&c.a.createElement(k.a,{style:F,source:R.a,resizeMode:"contain"}),o&&c.a.createElement(j.a,null),c.a.createElement(N.a,{onPress:function(){return t.push("/notifications")},style:A.notificationControl},c.a.createElement(j.a,{accessible:!0,style:A.notificationBubble},c.a.createElement(I.a,{color:m.a.value("$white"),name:"ios-notifications-outline",size:m.a.value("1rem")}),r&&c.a.createElement(j.a,{style:A.hasNotification}))))})),L=n(157);var B=function(e){var t=e.children,n=e.style,a=Object(C.g)();return Object(s.useEffect)((function(){L.addBreadcrumb({category:"react-router",message:"pathname: "+a.location.pathname+", state: "+JSON.stringify(a.location.state),level:L.Severity.Info})}),[a.location]),c.a.createElement(j.a,{style:n},t)},M=(n(13),n(15),n(18),n(14),n(19),n(125),n(7)),$=n.n(M),U=n(52),z=n.n(U),_=n(22),H=n.n(_);function Y(e){var t={dispatch:_.isFunction,subscribe:_.isFunction,getState:_.isFunction,replaceReducer:_.isFunction,runSaga:_.isFunction,injectedReducers:_.isObject,injectedSagas:_.isObject};z()(Object(_.conformsTo)(e,t),"(app/utils...) injectors: Expected a valid redux store")}var G="@@saga-injector/daemon";function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=["@@saga-injector/restart-on-remount",G,"@@saga-injector/once-till-unmount"],J=function(e){return z()(Object(_.isString)(e)&&!Object(_.isEmpty)(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},Q=function(e){var t={saga:_.isFunction,mode:function(e){return Object(_.isString)(e)&&W.includes(e)}};z()(Object(_.conformsTo)(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function K(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;t||Y(e);var o=q({},a,{mode:a.mode||G}),i=o.saga,s=o.mode;J(n),Q(o);var c=Reflect.has(e.injectedSagas,n);(!c||c&&s!==G&&"@@saga-injector/once-till-unmount"!==s)&&(e.injectedSagas[n]=q({},o,{task:e.runSaga(i,r)}))}}function Z(e,t){return function(n){if(t||Y(e),J(n),Reflect.has(e.injectedSagas,n)){var a=e.injectedSagas[n];a.mode&&a.mode!==G&&(a.task.cancel(),e.injectedSagas[n]="done")}}}function X(e){return Y(e),{injectSaga:K(e,!0),ejectSaga:Z(e,!0)}}var ee=function(e){var t=e.key,n=e.saga,a=e.mode,r=c.a.useContext(u.b);c.a.useEffect((function(){var e=X(r.store);return e.injectSaga(t,{saga:n,mode:a}),function(){e.ejectSaga(t)}}),[])},te=n(5),ne=n(126),ae=n.n(ne),re=n(79),oe=n(345),ie=n.n(oe),se=n(176),ce=n(6),le=n.n(ce),ue=n(51),de=n.n(ue),pe="SecureStorage-token",me="SecureStorage-refresh",fe="Storage-user",be="SecureStorage-creds",he="SecureStorage-message-token",ge=n(26),ye=n(228),ve=n(274),Ee=n(595),Oe=n.n(Ee),we=n(596),Se=n(48),xe="containers/App/ERROR",Ce="containers/App/LOADED",Te={loading:!0,error:!1,user:{}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case xe:e.error=t.error,e.loading=!1;break;case Ce:e.loading=!1}}))},Ie={locale:""},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case"app/LanguageToggle/CHANGE_LOCALE":e.locale=t.locale}}))},Ne="app/LocationsProvider/LOCATIONS_LOADED_FAIL",Pe="app/LocationsProvider/LOAD_LOCATIONS",Re={loading:!0,locations:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case Pe:e.loading=!0;break;case"app/LocationsProvider/LOCATIONS_LOADED_SUCCESS":e.locations=t.locations,e.locations=H.a.orderBy(e.locations,["field2"],"asc"),e.loading=!1;break;case Ne:e.loading=!1}}))},Fe=n(62),De=n.n(Fe),Le="app/ButtonsProvider/BUTTONS_LOADED_FAIL",Be="app/ButtonsProvider/LOAD_BUTTONS",Me={loading:!0,buttons:[]},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case Be:e.loading=!0;break;case"app/ButtonsProvider/BUTTONS_LOADED_SUCCESS":t.locationId&&(e.buttons=H.a.remove(e.buttons,{field15:Number(t.locationId)})),e.buttons=H.a.uniqBy([].concat(De()(t.buttons),De()(e.buttons)),"id"),e.buttons=H.a.orderBy(e.buttons,["field14"],"asc"),e.loading=!1;break;case Le:e.loading=!1}}))},Ue="containers/UserProvider/RESET",ze="containers/UserProvider/SUBMIT_USER",_e="containers/UserProvider/SUBMIT_USER_FAIL",He="containers/UserProvider/SUBMIT_USER_SUCCESS",Ye="containers/UserProvider/SET_USER",Ge="containers/UserProvider/CHANGE_INPUT";function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We={user:{activePlan:null,addInfo1:null,addInfo10:null,addInfo11:null,addInfo12:null,addInfo13:null,addInfo14:null,addInfo15:null,addInfo16:null,addInfo17:null,addInfo18:null,addInfo19:null,addInfo2:null,addInfo20:null,addInfo21:null,addInfo22:null,addInfo23:null,addInfo24:null,addInfo25:null,addInfo26:null,addInfo27:null,addInfo28:null,addInfo29:null,addInfo3:null,addInfo30:null,addInfo31:null,addInfo32:null,addInfo33:null,addInfo34:null,addInfo35:null,addInfo36:null,addInfo37:null,addInfo38:null,addInfo39:null,addInfo4:null,addInfo40:null,addInfo5:null,addInfo6:null,addInfo7:null,addInfo8:null,addInfo9:null,address:null,city:null,country:null,createdTime:null,email:null,firstName:null,gender:null,id:null,lastName:null,mediaId:null,newsletter:null,personId:null,phone:null,postalCode:null,province:null,renewPlan:null,shopFactor:null,siteId:null,title:null,userId:null,views:null,lastUpdated:null},loading:!1},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case Ue:break;case ze:e.loading=!0;break;case He:e.loading=!1,e.user=qe({},e.user,{},t.user);break;case _e:e.loading=!1;break;case Ge:e.user[t.name]=t.value;break;case Ye:e.user=qe({},e.user,{},t.user),e.loading=!1}}))},Qe="app/ButtonsProvider/LOAD_CHECKLIST",Ke="app/ButtonsProvider/RESET_LOADING",Ze="app/ButtonsProvider/SET_QUESTION_NFC",Xe="app/ButtonsProvider/SET_QUESTION_PIC",et="app/ButtonsProvider/DELETE_QUESTION_NFC",tt="app/ButtonsProvider/ADD_QUESTION_NFC",nt="app/ButtonsProvider/EDIT_QUESTION_NFC",at="app/ButtonsProvider/SEND_RESPONSE",rt="app/ButtonsProvider/SEND_RESPONSE_FAIL",ot="app/ButtonsProvider/LOAD_RESPONSES_FAIL",it={loading:!0,checklists:[],responses:[],loadingResponses:!1,inProgress:[],loadingSendResponse:{loading:!1,error:null}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case Qe:e.loading=!0,e.loadingResponses=!0;break;case"app/ButtonsProvider/CHECKLIST_LOADED_SUCCESS":e.checklists=H.a.uniqBy([].concat(De()(t.checklist),De()(e.checklists)),"id"),e.loading=!1,e.loadingSendResponse.loading=!1,e.loadingSendResponse.error=null;break;case"app/ButtonsProvider/CHECKLIST_LOADED_FAIL":case Ke:e.loading=!1;break;case"app/ButtonsProvider/DELETE_CURRENT_IN_PROGRESS":e.loadingSendResponse.loading=!1,e.loadingSendResponse.error=null,e.inProgress=H.a.remove(e.inProgress,{checklist:t.checklist});break;case"app/ButtonsProvider/SET_QUESTION_RESPONSE":var n=H.a.findIndex(e.inProgress,{checklist:t.checklistId});-1===n&&(e.inProgress.push({checklist:t.checklistId}),n=H.a.findIndex(e.inProgress,{checklist:t.checklistId})),e.inProgress[n]["question"+t.questionIndex]=t.response,e.inProgress[n]["question"+t.questionIndex+"responseType"]=t.responseType,e.inProgress[n]["question"+t.questionIndex+"date"]=+le()();break;case Ze:var a=H.a.findIndex(e.inProgress,{checklist:t.checklistId});-1===a&&(e.inProgress.push({checklist:t.checklistId}),a=H.a.findIndex(e.inProgress,{checklist:t.checklistId})),e.inProgress[a]["question"+t.questionIndex+"nfc"]=t.value,e.inProgress[a]["question"+t.questionIndex+"date"]=+le()();break;case"app/ButtonsProvider/SET_QUESTION_NFC_VALIDATION":var r,o,i=H.a.findIndex(e.checklists,{id:t.checklist.id}),s=e.checklists[i],c=JSON.parse(s.field8).questions,l=c[t.questionIndex];l.NFCValidation=t.value,l.NFCTitle=null!=(r=null===l||void 0===l?void 0:l.NFCTitle)?r:[],l.NFCData=null!=(o=null===l||void 0===l?void 0:l.NFCData)?o:[],c[t.questionIndex]=l;var u=JSON.stringify({questions:c});s.field8=u;break;case et:var d,p,m=H.a.findIndex(e.checklists,{id:t.checklist.id}),f=e.checklists[m],b=JSON.parse(f.field8).questions,h=b[t.questionIndex];h.NFCTitle=null!=(d=null===h||void 0===h?void 0:h.NFCTitle)?d:[],h.NFCData=null!=(p=null===h||void 0===h?void 0:h.NFCData)?p:[];var g=h.NFCTag.split(",");H.a.pullAt(g,[Number(t.value)]),g=g.join(","),h.NFCTag=g,H.a.pullAt(h.NFCTitle,[Number(t.value)]),H.a.pullAt(h.NFCData,[Number(t.value)]),b[t.questionIndex]=h;var y=JSON.stringify({questions:b});f.field8=y;break;case tt:var v,E,O=H.a.findIndex(e.checklists,{id:t.checklist.id}),w=e.checklists[O],S=JSON.parse(w.field8).questions,x=S[t.questionIndex];x.NFCTitle=null!=(v=null===x||void 0===x?void 0:x.NFCTitle)?v:[],x.NFCData=null!=(E=null===x||void 0===x?void 0:x.NFCData)?E:[],x.NFCTitle=[].concat(De()(x.NFCTitle),[t.title]),x.NFCData=[].concat(De()(x.NFCData),[t.data]),S[t.questionIndex]=x;var C=JSON.stringify({questions:S});w.field8=C;break;case"app/ButtonsProvider/ADD_QUESTION_NFC_SUCCESS":var T=H.a.findIndex(e.checklists,{id:t.checklist.id}),j=e.checklists[T],I=JSON.parse(j.field8).questions,k=I[t.questionIndex];k.NFCTag=k.NFCTag?k.NFCTag+","+t.id:String(t.id),I[t.questionIndex]=k;var N=JSON.stringify({questions:I});j.field8=N;break;case nt:var P=H.a.findIndex(e.checklists,{id:t.checklist.id}),R=e.checklists[P],A=JSON.parse(R.field8).questions,F=A[t.questionIndex];F.NFCTitle[t.nfcIndex]=t.title,F.NFCData[t.nfcIndex]=t.data,A[t.questionIndex]=F;var D=JSON.stringify({questions:A});R.field8=D;break;case"app/ButtonsProvider/SET_QUESTION_DEFICIENCY":var L=H.a.findIndex(e.inProgress,{checklist:t.checklistId});-1===L&&(e.inProgress.push({checklist:t.checklistId}),L=H.a.findIndex(e.inProgress,{checklist:t.checklistId})),e.inProgress[L]["question"+t.questionIndex+"deficiency"]=t.message,e.inProgress[L]["question"+t.questionIndex+"activeDeficiency"]=t.active,e.inProgress[L]["question"+t.questionIndex+"date"]=+le()();break;case Xe:var B=H.a.findIndex(e.inProgress,{checklist:t.checklistId});-1===B&&(e.inProgress.push({checklist:t.checklistId}),B=H.a.findIndex(e.inProgress,{checklist:t.checklistId})),e.inProgress[B]["question"+t.questionIndex+"pic"]=t.pic,e.inProgress[B]["question"+t.questionIndex+"date"]=+le()();break;case at:e.loadingSendResponse.loading=!0,e.loadingSendResponse.error=null;break;case"app/ButtonsProvider/SEND_RESPONSE_SUCCESS":e.loadingSendResponse.loading=!1,e.loadingSendResponse.error=null,e.inProgress=H.a.remove(e.inProgress,{checklist:t.checklist});break;case rt:e.loadingSendResponse.loading=!1,e.loadingSendResponse.error=!0;break;case"app/ButtonsProvider/LOAD_RESPONSES_SUCCESS":e.responses=H.a.uniqBy([].concat(De()(t.responses),De()(e.responses)),"id").sort((function(e,t){return le()(e.dateField1).diff(le()(t.dateField1))})),e.loadingResponses=!1;break;case ot:e.loadingResponses=!1}}))},ct="app/NotificationsProvider/LOAD_NOTIFICATIONS_FAIL",lt="app/NotificationsProvider/LOAD_NOTIFICATIONS",ut="app/NotificationsProvider/DELETE_NOTIFICATION",dt="app/NotificationsProvider/SEEN_NOTIFICATION",pt="app/NotificationsProvider/RESET_PAGE",mt={loading:!1,notifications:[],page:1},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){var n;switch(t.type){case lt:e.loading=!0;break;case"app/NotificationsProvider/LOAD_NOTIFICATIONSSUCCESS":e.notifications=H.a.uniqBy(De()(t.notifications),"id").sort((function(e,t){return le()(t.dateField1).diff(le()(e.dateField1))})),e.page=null!=(n=null===t||void 0===t?void 0:t.page)?n:1,e.loading=!1;break;case ct:e.loading=!1;break;case dt:var a=H.a.findIndex(e.notifications,{id:t.id});e.notifications[a].field4="true";break;case ut:H.a.remove(e.notifications,{id:t.id});break;case pt:e.page=1}}))};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt={key:"root",storage:Oe.a,whitelist:["language","locations","buttons","user","checklists","notifications"]};function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ge.c)(ht({global:je,language:ke,network:we.reducer,locations:Ae,buttons:$e,user:Je,checklists:st,notifications:ft},e));return Object(ve.a)(gt,t)}var vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=Object(ye.a)(t),a=[n],r=[ge.a.apply(void 0,a)],o=Object(ge.e)(yt(),e,ge.d.apply(void 0,r));return o.runSaga=n.run,o.injectedReducers={},o.injectedSagas={},o.persistor=Object(ve.b)(o),o}({}),Et=n(11),Ot="web"===Et.a.OS?"prod":y.a.manifest.releaseChannel||"local",wt="staging"===Ot||"dev"===Ot||"local"===Ot,St=Ot,xt=function(){switch(St){case"local":return"https://biz.safebuildingsapp.ca";case"dev":case"staging":return"http://sb.mg2project.com";default:return"https://biz.safebuildingsapp.ca"}};function Ct(e){try{localStorage.setItem(pe,e)}catch(t){re.c(t)}}function Tt(){try{return localStorage.getItem(pe)}catch(e){return re.c(e),null}}function jt(){try{return localStorage.getItem(me)}catch(e){return re.c(e),null}}function It(e){try{localStorage.setItem(me,e)}catch(t){re.c(t)}}function kt(){try{localStorage.removeItem(pe),localStorage.removeItem(me)}catch(e){re.c(e)}}function Nt(){var e,t,n,a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.a.awrap(Tt());case 2:return e=o.sent,o.next=5,r.a.awrap(jt());case 5:return t=o.sent,e&&(n=xt()+"/action/logout",a={url:n,params:{ajax:!0,token:t}},ae()(a)),o.next=9,r.a.awrap(kt());case 9:r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.clear()}catch(t){re.c(t)}return e.next=3,r.a.awrap(vt.persistor.purge());case 3:se.a.reloadFromCache();case 4:case"end":return e.stop()}}));case 10:case"end":return o.stop()}}))}function Pt(){var e,t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(Tt());case 3:return e=a.sent,t=ie()(e),n=t.exp,a.abrupt("return",1e3*n<+le()());case 8:return a.prev=8,a.t0=a.catch(0),re.c(a.t0),a.abrupt("return",!0);case 12:case"end":return a.stop()}}),null,null,[[0,8]])}function Rt(e){re.k({email:e.email,id:e.id,username:de.a.decode(e.firstName+" "+e.lastName),role:e.addInfo1,termsAndConditions:e.addInfo2,locations:e.addInfo4,personIdOfCreator:e.addInfo6});try{localStorage.setItem(fe,JSON.stringify(e))}catch(t){re.c(t)}}var At={setToken:Ct,setRefreshToken:It,logout:Nt,isTokenExpired:Pt,checkToken:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.awrap(Tt());case 3:if(!e.sent){e.next=11;break}return e.next=7,r.a.awrap(Pt());case 7:if(!e.sent){e.next=9;break}Nt();case 9:e.next=12;break;case 11:Nt();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),re.c(e.t0);case 17:case"end":return e.stop()}}),null,null,[[0,14]])},setUser:Rt,getUser:function(){try{var e=localStorage.getItem(fe);return JSON.parse(e)}catch(t){return re.c(t),null}},getToken:Tt,getRefreshToken:jt,setCreds:function(e){var t=e;delete t.password;try{localStorage.setItem(be,JSON.stringify(t))}catch(n){re.c(n)}},getCreds:function(){try{var e=localStorage.getItem(be);return JSON.parse(e)}catch(t){return re.c(t),null}},setPushToken:function(e){try{localStorage.setItem(he,e)}catch(t){re.c(t)}},getPushToken:function(){try{return localStorage.getItem(he)}catch(e){return re.c(e),null}},purgeTokens:kt,init:function(e){var t,n,a,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.a.awrap(Ct(e.access));case 2:return i.next=4,r.a.awrap(It(e.refresh));case 4:return t=ie()(e.access),n=t.personId,a=t.userId,o={personId:n,userId:a},i.next=8,r.a.awrap(Rt(o));case 8:case"end":return i.stop()}}))}};function Ft(e){if(e.status>=200&&e.status<300)return e;401===e.status&&At.logout();var t=new Error(e.statusText);throw t.response=e,t}ae.a.interceptors.request.use((function(e){var t,n,a,o,i,s,c,l,u,d,p,m,f;return r.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e,n=Math.round(1e5*Math.random()),t.params?t.params.cache=n:t.params={cache:n},b.next=5,r.a.awrap(At.getToken());case 5:if(null==(a=b.sent)){b.next=48;break}return o=a,b.next=10,r.a.awrap(At.isTokenExpired());case 10:if(!b.sent){b.next=47;break}return b.next=14,r.a.awrap(At.getUser());case 14:return i=b.sent,s=i.personId,b.next=18,r.a.awrap(At.getRefreshToken());case 18:return c=b.sent,(l=new Headers).append("Authorization","Bearer "+c),l.append("Content-Type","application/x-www-form-urlencoded"),l.append("Cache-Control","no-cache"),u=xt()+"/action/generateNewTokens?personId="+s+"&cache="+n,d={headers:l,method:"GET"},b.prev=25,b.next=28,r.a.awrap(fetch(u,d));case 28:if(!(p=b.sent).ok){b.next=41;break}return b.next=32,r.a.awrap(p.json());case 32:return m=b.sent,f=m.tokens,b.next=36,r.a.awrap(At.setToken(f.access));case 36:return b.next=38,r.a.awrap(At.setRefreshToken(f.refresh));case 38:o=f.access,b.next=42;break;case 41:At.logout();case 42:b.next=47;break;case 44:b.prev=44,b.t0=b.catch(25),re.c(b.t0);case 47:t.headers.Authorization="Bearer "+o;case 48:return t.headers["Cache-Control"]="no-cache",b.abrupt("return",t);case 50:case"end":return b.stop()}}),null,null,[[25,44]])}),(function(e){re.c(e),Promise.reject(e)}));var Dt=function(e){return ae()(e).then(Ft).catch((function(e){return Ft(e.response)}))};function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Bt({},e,{lastUpdated:le()()});return t&&(n.lastUpdated=le()().subtract(2,"s")),{type:Ye,user:n}}function $t(e){return{type:"app/LocationsProvider/LOCATIONS_LOADED_SUCCESS",locations:e}}function Ut(e){return{type:"app/NotificationsProvider/SUBSCRIBE_PUSH_NOTIFICATIONS",user:e}}function zt(e,t,n){return{type:lt,user:e,page:t,isNotificationPage:n}}function _t(e){return{type:"app/NotificationsProvider/LOAD_NOTIFICATIONSSUCCESS",notifications:e}}function Ht(){return{type:ct}}function Yt(e){return{type:"app/NotificationsProvider/SEEN_NOTIFICATION_FAIL",id:e}}var Gt=r.a.mark(Kt),Vt=r.a.mark(Zt),qt=r.a.mark(Xt),Wt=r.a.mark(en);function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e){var t,n,a,o,i,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=[],e.forEach((function(e){var n=JSON.parse(e.field3),a=JSON.parse(e.field14);n&&n.information.forEach((function(e){t.push(e.title)})),null!==a&&0!==a.length&&JSON.parse(e.field14).forEach((function(e){t.push(e.title)}))})),!(t.length>0)){r.next=19;break}return n=xt()+"/action/fetchGenData",a={url:n,method:"GET",params:{ajax:!0,ids:t.join(",")}},r.prev=5,r.next=8,Object(te.a)(Dt,a);case 8:return o=r.sent,i=o.data,s=[],e.forEach((function(e){var t=JSON.parse(e.field3),n=JSON.parse(e.field14),a=[],r=[];t&&t.information.forEach((function(e){var t=e.title,n=e.description,r=JSON.parse(i.find((function(e){return e.id===t.toString()})).field4).type;a.push({type:r,description:n,title:t})})),null!==n&&0!==n.length&&JSON.parse(e.field14).forEach((function(e){var t=e.title,n=e.description,a=JSON.parse(i.find((function(e){return e.id===t.toString()})).field4).title;r.push({type:a,description:n,title:t})}));var o=Qt({},e,{field3:JSON.stringify({information:a}),field14:JSON.stringify(r)});s.push(o)})),r.next=14,Object(te.d)($t(s));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(5),L.captureException(r.t0);case 19:case"end":return r.stop()}}),Gt,null,[[5,16]])}function Zt(e,t){var n,a,o,i,s,c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=xt()+"/action/fetchGenData",a={url:n,method:"GET",params:{ajax:!0,field10:"0"===t||"2"===t?null:"%"+e+"%",field1:"location",field12:!0,partialMatch:!0,field19:!0}},r.prev=2,r.next=5,Object(te.a)(Dt,a);case 5:if(o=r.sent,i=o.data,s=[],"string"!==typeof i){r.next=13;break}return r.next=11,Object(te.d)($t(s));case 11:r.next=23;break;case 13:return"2"===t?i.forEach((function(e){var t=JSON.parse(e.field18);"true"===(null===t||void 0===t?void 0:t.permission)&&s.push(e)})):s=i,r.next=16,Object(te.d)($t(s));case 16:return r.next=18,Object(te.a)(Kt,s);case 18:return r.next=20,Object(te.a)(At.getUser);case 20:return c=r.sent,r.next=23,Object(te.d)(zt(c));case 23:r.next=30;break;case 25:return r.prev=25,r.t0=r.catch(2),r.next=29,Object(te.d)({type:Ne,err:void 0});case 29:L.captureException(r.t0);case 30:case"end":return r.stop()}}),Vt,null,[[2,25]])}function Xt(){var e,t,n,a,o,i;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(te.a)(At.getUser);case 2:return e=r.sent,r.prev=3,t=xt()+"/action/getPerson",n={url:t,method:"GET"},r.next=8,Object(te.a)(Dt,n);case 8:if(a=r.sent,"string"!==typeof(o=a.data)){r.next=15;break}return r.next=13,Object(te.a)(At.logout);case 13:r.next=22;break;case 15:return i=Qt({},e,{},o),r.next=18,Object(te.a)(At.setUser,i);case 18:return r.next=20,Object(te.d)(Mt(i));case 20:return r.next=22,Object(te.a)(Zt,i.id,i.addInfo1);case 22:r.next=29;break;case 24:return r.prev=24,r.t0=r.catch(3),r.next=28,Object(te.a)(Zt,e.id,e.addInfo1);case 28:L.captureException(r.t0);case 29:case"end":return r.stop()}}),qt,null,[[3,24]])}function en(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(Pe,Xt);case 2:case"end":return e.stop()}}),Wt)}function tn(e){return{type:Be,location:e}}function nn(e,t){return{type:"app/ButtonsProvider/BUTTONS_LOADED_SUCCESS",buttons:e,locationId:t}}function an(e){return{type:Le,err:e}}var rn=r.a.mark(cn),on=r.a.mark(ln);function sn(e){var t,n,a,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=xt()+"/action/fetchGenData?ajax=true&field5=true&field15="+e,n={method:"POST"},i.prev=2,i.next=5,r.a.awrap(fetch(t,n));case 5:if(!(a=i.sent).ok){i.next=11;break}return i.next=9,r.a.awrap(a.json());case 9:return o=i.sent,i.abrupt("return",o);case 11:return L.captureException(a),i.abrupt("return","error");case 15:return i.prev=15,i.t0=i.catch(2),L.captureException(i.t0),i.abrupt("return","error");case 19:case"end":return i.stop()}}),null,null,[[2,15]])}function cn(e){var t,n,a,o,i,s,c,l,u,d,p,m,f,b,h,g,y;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.location,r.next=3,Object(te.a)(At.getUser);case 3:return s=r.sent,c=s.addInfo1,l=s.addInfo7,u=JSON.parse(l),d=null!=(t=null===u||void 0===u||null===(n=u[i.id])||void 0===n?void 0:n.ids)?t:[],p=null!=(a=null===u||void 0===u||null===(o=u[i.id])||void 0===o?void 0:o.all)&&a,r.prev=9,r.next=12,Object(te.a)(sn,i.id);case 12:if("object"!==typeof(m=r.sent)){r.next=29;break}return f=[],b=JSON.parse(i.field18),h="true"===(null===b||void 0===b?void 0:b.fullAccess),g="0"===c,"2"===c&&h||g?f=m:m.forEach((function(e){(!!p||d.split(",").find((function(t){return t===e.id})))&&f.push(e)})),r.next=22,Object(te.d)(nn(f,i.id));case 22:return r.next=24,Object(te.a)(At.getUser);case 24:return y=r.sent,r.next=27,Object(te.d)(zt(y));case 27:r.next=32;break;case 29:return L.captureException("ButtonsProvider Saga, request response should receive an object, but received : "+m),r.next=32,Object(te.d)(an(m));case 32:r.next=39;break;case 34:return r.prev=34,r.t0=r.catch(9),L.captureException(r.t0),r.next=39,Object(te.d)(an());case 39:case"end":return r.stop()}}),rn,null,[[9,34]])}function ln(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(Be,cn);case 2:case"end":return e.stop()}}),on)}function un(e,t){return{type:Qe,id:e,ids:t}}function dn(e){return{type:"app/ButtonsProvider/CHECKLIST_LOADED_SUCCESS",checklist:e}}function pn(e){return{type:"app/ButtonsProvider/CHECKLIST_LOADED_FAIL",err:e}}function mn(e){return{type:rt,err:e}}function fn(e){return{type:"app/ButtonsProvider/LOAD_RESPONSES_SUCCESS",responses:e}}function bn(e){return{type:ot,err:e}}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn=r.a.mark(Cn),vn=r.a.mark(Tn),En=r.a.mark(In),On=r.a.mark(kn),wn=r.a.mark(Nn),Sn=r.a.mark(Pn),xn=r.a.mark(Rn);function Cn(e){var t,n,a,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=xt()+"/action/fetchGenData",n={url:t,method:"POST",params:{ajax:!0,field1:"response",field2:e.toString()}},r.prev=2,r.next=5,Object(te.a)(Dt,n);case 5:if(a=r.sent,"error"===(o=a.data)){r.next=12;break}return r.next=10,Object(te.d)(fn(o));case 10:r.next=15;break;case 12:return L.captureMessage(o),r.next=15,Object(te.d)(bn(o));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(2),L.captureException(r.t0),r.next=22,Object(te.d)(bn(r.t0));case 22:case"end":return r.stop()}}),yn,null,[[2,17]])}function Tn(e){var t,n,a,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=xt()+"/action/sbSendResponse",n={url:t,method:"GET",params:gn({},e,{ajax:!0}),headers:{"Content-Type":"x-www-form-urlencoded"}},r.prev=2,r.next=5,Object(te.a)(Dt,n);case 5:if(a=r.sent,!(o=a.data).error){r.next=13;break}return L.captureMessage(o.error),r.next=11,Object(te.d)(mn(o));case 11:r.next=15;break;case 13:return r.next=15,Object(te.d)({type:"app/ButtonsProvider/SEND_RESPONSE_SUCCESS",checklist:Number(e.checklist)});case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(2),L.captureException(r.t0),r.next=22,Object(te.d)(mn(r.t0));case 22:case"end":return r.stop()}}),vn,null,[[2,17]])}function jn(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),r=0;r<t.length;r+=1)a[r]=t.charCodeAt(r);return new Blob([a],{type:n})}function In(e){var t,n,a,o,i,s,c,l,u,d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.response,n=Object.keys(t),a=[],n.forEach((function(e){e.includes("pic")&&a.push({pic:t[e],name:e})})),!(a.length>0)){r.next=35;break}return o=new FormData,i=gn({},t),a.forEach((function(e){var t=e.name,n=e.pic,a=n.uri.split(";")[0].split("/")[1],r=jn(n.uri);o.append("file",r,t+"."+a),delete i[t]})),o.append("ajax",!0),s=xt()+"/action/uploadSecureFile",c={url:s,method:"POST",data:o,headers:{"Content-Type":"multipart/form-data"}},r.prev=11,r.next=14,Object(te.a)(Dt,c);case 14:if(l=r.sent,!(u=l.data).error){r.next=22;break}return L.captureMessage(u.error),r.next=20,Object(te.a)(Tn,i);case 20:r.next=26;break;case 22:return d=gn({},t),u.media.mediaIds.forEach((function(e){var t=e.split(" - "),n=t[0],a=t[1].split("-")[1].split(".")[0];d[a]=n})),r.next=26,Object(te.a)(Tn,d);case 26:r.next=33;break;case 28:return r.prev=28,r.t0=r.catch(11),L.captureException(r.t0),r.next=33,Object(te.a)(Tn,i);case 33:r.next=37;break;case 35:return r.next=37,Object(te.a)(Tn,t);case 37:case"end":return r.stop()}}),En,null,[[11,28]])}function kn(e){var t,n,a,o,i,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=[],e.forEach((function(e){JSON.parse(e.field8).questions.forEach((function(e){var n=e.NFCValidation,a=e.NFCTag;n&&a&&t.push(a)}))})),!(t.length>0)){r.next=29;break}return n=xt()+"/action/fetchGenData",a={url:n,method:"GET",params:{ajax:!0,ids:t.join(","),field1:"nfc"}},r.prev=5,r.next=8,Object(te.a)(Dt,a);case 8:if(o=r.sent,i=o.data,s=[],e.forEach((function(e){var t=JSON.parse(e.field8).questions,n=[];t.forEach((function(e){var t=i.find((function(t){return t.id===e.NFCTag}))?i.find((function(t){return t.id===e.NFCTag})).field2:"",a=i.find((function(t){return t.id===e.NFCTag}))?i.find((function(t){return t.id===e.NFCTag})).field3:"";n.push(gn({},e,{NFCTitle:t,NFCData:a}))}));var a=gn({},e,{field8:JSON.stringify({questions:n})});s.push(a)})),"error"===i){r.next=17;break}return r.next=15,Object(te.d)(dn(s));case 15:r.next=20;break;case 17:return L.captureMessage(i),r.next=20,Object(te.d)(pn(i));case 20:r.next=27;break;case 22:return r.prev=22,r.t0=r.catch(5),L.captureException(r.t0),r.next=27,Object(te.d)(pn(r.t0));case 27:r.next=31;break;case 29:return r.next=31,Object(te.d)(dn(e));case 31:case"end":return r.stop()}}),On,null,[[5,22]])}function Nn(e){var t,n,a,o,i,s,c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=e.ids,a=xt()+"/action/fetchGenData",o={url:a,method:"POST",params:{ajax:!0,field1:"checklist",ids:t?t.toString():n}},r.prev=3,r.next=6,Object(te.a)(Dt,o);case 6:if(i=r.sent,"object"!==typeof(s=i.data)){r.next=22;break}return r.next=11,Object(te.d)(dn(s));case 11:return r.next=13,Object(te.a)(kn,s);case 13:return r.next=15,Object(te.a)(Cn,s[0].id);case 15:return r.next=17,Object(te.a)(At.getUser);case 17:return c=r.sent,r.next=20,Object(te.d)(zt(c));case 20:r.next=24;break;case 22:return r.next=24,Object(te.d)(pn(s));case 24:r.next=31;break;case 26:return r.prev=26,r.t0=r.catch(3),L.captureException(r.t0),r.next=31,Object(te.d)(pn(r.t0));case 31:case"end":return r.stop()}}),wn,null,[[3,26]])}function Pn(e){var t,n,a,o,i,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.ids,n=xt()+"/action/fetchGenData",a={url:n,method:"POST",params:{ajax:!0,field1:"response",ids:t}},r.prev=3,r.next=6,Object(te.a)(Dt,a);case 6:if(o=r.sent,"error"===(i=o.data)){r.next=18;break}return r.next=11,Object(te.d)(fn(i));case 11:return s=[],i.forEach((function(e){s.push(e.field2)})),s=H.a.uniq(s),r.next=16,Object(te.c)(Nn,{id:null,ids:s});case 16:r.next=21;break;case 18:return L.captureMessage(i),r.next=21,Object(te.d)(bn(i));case 21:r.next=28;break;case 23:return r.prev=23,r.t0=r.catch(3),L.captureException(r.t0),r.next=28,Object(te.d)(bn(r.t0));case 28:case"end":return r.stop()}}),Sn,null,[[3,23]])}function Rn(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(Qe,Nn);case 2:return e.next=4,Object(te.h)(at,In);case 4:return e.next=6,Object(te.h)("app/ButtonsProvider/LOAD_RESPONSES_BY_IDS",Pn);case 6:case"end":return e.stop()}}),xn)}var An=r.a.mark($n),Fn=r.a.mark(Un),Dn=r.a.mark(zn),Ln=r.a.mark(_n);function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e){var t,n,a;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.user,r.prev=1,n=xt()+"/action/updatePerson",a={url:n,method:"POST",params:Mn({},t,{ajax:!0})},r.next=6,Object(te.a)(Dt,a);case 6:return r.next=8,Object(te.d)({type:He});case 8:return r.next=10,Object(te.d)(Mt(t));case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(1),L.captureException(r.t0),r.next=17,Object(te.d)({type:_e});case 17:case"end":return r.stop()}}),An,null,[[1,12]])}function Un(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.a)(At.getUser);case 3:return e=t.sent,t.next=6,Object(te.d)(Mt(e,!1));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),L.captureException(t.t0);case 11:case"end":return t.stop()}}),Fn,null,[[0,8]])}function zn(){var e,t,n,a,o,i;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=xt()+"/action/getPerson",t={url:e,method:"GET"},r.next=5,Object(te.a)(Dt,t);case 5:if(n=r.sent,"string"!==typeof(a=n.data)){r.next=12;break}return r.next=10,Object(te.a)(At.logout);case 10:r.next=20;break;case 12:return r.next=14,Object(te.a)(At.getUser);case 14:return o=r.sent,i=Mn({},o,{},a),r.next=18,Object(te.a)(At.setUser,i);case 18:return r.next=20,Object(te.d)(Mt(i));case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(0),L.captureException(r.t0);case 25:case"end":return r.stop()}}),Dn,null,[[0,22]])}function _n(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)("containers/UserProvider/GET_USER",zn);case 2:return e.next=4,Object(te.h)(ze,$n);case 4:return e.next=6,Object(te.h)("containers/UserProvider/RESTORE_USER",Un);case 6:case"end":return e.stop()}}),Ln)}var Hn=n(280),Yn=r.a.mark(Jn),Gn=r.a.mark(Qn),Vn=r.a.mark(Kn),qn=r.a.mark(Zn),Wn=r.a.mark(Xn);function Jn(e){var t,n,a,o,i,s,c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.user,n=t.personId,r.prev=2,r.next=5,Object(te.a)(Hn.c,Hn.b,Hn.a);case 5:if(a=r.sent,"granted"===(o=a.status)){r.next=11;break}L.addBreadcrumb({category:"notifications",message:"Notification permission not granted",data:o,level:L.Severity.Info}),r.next=24;break;case 11:return r.prev=11,r.next=14,Object(te.a)(At.getPushToken);case 14:return i=r.sent,s=xt()+"/action/pushMobileNotification",c={url:s,method:"GET",params:{register:!0,deviceToken:i,key:n,lang:"en"}},r.next=19,Object(te.a)(Dt,c);case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(11),L.captureException(r.t0);case 24:r.next=29;break;case 26:r.prev=26,r.t1=r.catch(2),L.captureException(r.t1);case 29:case"end":return r.stop()}}),Yn,null,[[2,26],[11,21]])}function Qn(e){var t,n,a,o,i,s,c,l,u,d,p,m,f;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.user,n=e.page,a=void 0===n?1:n,o=e.isNotificationPage,i=void 0!==o&&o,s=xt()+"/action/sbGetNotifications",c=null===t||void 0===t?void 0:t.personId,l={url:s,method:"GET",params:{ajax:!0,field1:"notification",field7:c,field8:!1,page:a}},r.prev=4,r.next=7,Object(te.a)(Dt,l);case 7:if(u=r.sent,"string"!==typeof(d=u.data)){r.next=14;break}return r.next=12,Object(te.d)(Ht());case 12:r.next=29;break;case 14:return p=[],m=[],f=[],d.data.notifications.forEach((function(e){var t="true"===e.field8,n="0"===e.field3,a="1"===e.field3,r="2"===e.field3,o="3"===e.field3;t||r||o||p.push(e),n&&m.push(e.field5),a&&f.push(e.field5)})),r.next=20,Object(te.d)(_t(p));case 20:if(!i){r.next=29;break}if(!(m.length>0)){r.next=25;break}return m=H.a.uniq(m),r.next=25,Object(te.d)({type:"app/ButtonsProvider/LOAD_RESPONSES_BY_IDS",ids:m});case 25:if(!(f.length>0)){r.next=29;break}return f=H.a.uniq(f),r.next=29,Object(te.d)(un(null,f));case 29:r.next=36;break;case 31:return r.prev=31,r.t0=r.catch(4),r.next=35,Object(te.d)(Ht());case 35:L.captureException(r.t0);case 36:case"end":return r.stop()}}),Gn,null,[[4,31]])}function Kn(e){var t,n,a,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=xt()+"/action/manageGenData",a={url:n,method:"GET",params:{ajax:!0,id:t,field4:!0}},r.prev=3,r.next=6,Object(te.a)(Dt,a);case 6:o=r.sent,o.data,r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(3),r.next=15,Object(te.d)(Yt(t));case 15:L.captureException(r.t0);case 16:case"end":return r.stop()}}),Vn,null,[[3,11]])}function Zn(e){var t,n,a,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,n=xt()+"/action/manageGenData",a={url:n,method:"GET",params:{ajax:!0,id:t,field8:!0}},r.prev=3,r.next=6,Object(te.a)(Dt,a);case 6:o=r.sent,o.data,r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(3),r.next=15,Object(te.d)({type:"app/NotificationsProvider/DELETE_NOTIFICATION_FAIL"});case 15:L.captureException(r.t0);case 16:case"end":return r.stop()}}),qn,null,[[3,11]])}function Xn(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(lt,Qn);case 2:return e.next=4,Object(te.h)("app/NotificationsProvider/SUBSCRIBE_PUSH_NOTIFICATIONS",Jn);case 4:return e.next=6,Object(te.g)(dt,Kn);case 6:return e.next=8,Object(te.g)(ut,Zn);case 8:case"end":return e.stop()}}),Wn)}var ea=m.a.create({container:{flex:1,backgroundColor:"$white",position:"relative"},containerWeb:{maxWidth:"900px",width:"100%",margin:"auto"},loading:{flex:1},portal:{backgroundColor:"$red"},backgroundWeb:{backgroundColor:"$greyLighter",flex:1,minHeight:"100%"}}),ta=n(214),na=n(115),aa=n(54),ra=n(183),oa=n(20),ia=function(e){return e.global||Te};var sa=n(270),ca=n.n(sa),la=n(597),ua=n.n(la),da=m.a.create({background:{flex:1,backgroundColor:"$blueDark"},box:{width:"100%",padding:"2rem 3rem",backgroundColor:"$white",borderTopRightRadius:"$borderRadius",borderTopLeftRadius:"$borderRadius",flex:1,minHeight:"100% - 10rem"},version:{fontFamily:"$fontRegular",fontSize:".6rem",color:"$text",marginBottom:"1rem"},scrollInner:{flexGrow:1}}),pa=n(598),ma=n.n(pa),fa=m.a.create({container:{width:"100%",height:"10rem",justifyContent:"center",alignItems:"center"},logo:{width:"60%",height:"50%"}});var ba=function(e){var t=e.theme,n=void 0===t?"white":t;return c.a.createElement(j.a,{style:fa.container},c.a.createElement(k.a,{style:fa.logo,source:"white"===n?ma.a:R.a,resizeMode:"contain"}))},ha=n(10),ga=n(31);function ya(e,t){return function(n,a){t||Y(e),z()(Object(_.isString)(n)&&!Object(_.isEmpty)(n)&&Object(_.isFunction)(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(yt(e.injectedReducers)),e.persistor.persist())}}function va(e){return Y(e),{injectReducer:ya(e,!0)}}var Ea=function(e){var t=e.key,n=e.reducer,a=c.a.useContext(u.b);c.a.useEffect((function(){va(a.store).injectReducer(t,n)}),[])},Oa={emailAddress:"Email Address",password:"Password",logIn:"Log in",forgotPasswordControl:"Forgot password?",version:"Version",rememberMe:"Remember me",contactSafeBuildings:"Contact Safe Buildings",dateTime:"{{date, D MMMM YYYY - HH:mm}}",date:"{{date, D MMMM YYYY}}",welcomeX:"Welcome {{name}}",sendUsAMessage:"Send us a message",fullName:"Full name",phone:"Phone",yourMessage:"Your message",sendYourMessage:"Send your message","Search in your locations":"Search in your locations","Your locations (x)":"Your locations ({{count}})","Read more":"Read more","Terms and Conditions":"Terms and Conditions",Logout:"Logout",helpPageTitle:"Help",helpPageSubTitle:"Scroll down to find your solution.","Last update":"Last update:","Information Button":"Information Button",Contact:"Contact",Infrastructure:"Overview",Compliance:"Compliance",Decline:"Decline",Accept:"Accept","Credits to":"Credits to",scanNoMatchTitle:"No location found",scanNoMatchMessage:"You don't have any location that match this QRcode","Scan QR Code":"Scan QR Code",scanQRSubTitle:"Please scan QR code to be directed to your building.",askPermissionCamera:"Give permission to access the camera",localAuthNoMatchTitle:"Connexion Error",localAuthNoMatchMessage:"You can't connect right now with this method. Please enter your credentials manually.","You do not have any location associated":"You do not have any location associated",searchPageSubTitle:"Lorem ipsum dolor sit amet",noInternetLoginTitle:"You do not have access to internet",noInternetLoginMessage:"Please reconnect to internet before trying to authenticate","Search by":"Search by...","My account":"My account",newPasswordNoMatchTitle:"The password does not match",newPasswordNoMatchMessage:"Please enter the same password twice",currentNewPasswordNoMatchTitle:"The current password is not correct",currentNewPasswordNoMatchMessage:"Please enter your password correctly",newPasswordServerErrorTitle:"Server error",newPasswordServerErrorMessage:"We're currently having trouble to connect to the server, please try again later.",newPasswordSecurityErrorTitle:"Not enough secure",newPasswordSecurityErrorMessage:"Your password must at least have a capital letter, a number and a special character",newPasswordSetTitle:"Password set",newPasswordSetMessage:"Your new password is set",modifyPasswordHint:"Your password must at least have a capital letter, a number and a special character.",myAccountUserUpdatedTitle:"Your account has been saved",myAccountUserUpdatedMessage:"",messageSubmittedTitle:"Message sent",messageSubmittedMessage:"Your message has been sent",explainNfcTitle:"Instructions NFC",explainNfcMessage:"Be sure that the NFC functionnality is activated on your device. Proceed by approching your device as close as possible from the NFC tag. The Control will turn green when the corresponding NFC is approched.",explainNfcDoneTitle:"NFC already scanned",explainNfcDoneMessage:"This NFC is already scanned.",nfcErrorTitle:"NFC Error",nfcErrorMessage:"NFC is not supported on this device, you won't be able to submit this checklist",nfcNoMatchTitle:"No match for this NFC Tag",nfcNoMatchMessage:"The NFC tag you have scanned does not match any question in this checklist",nfcErrorEnableTitle:"NFC not enabled",nfcErrorEnableMessage:"You need to enable NFC on your device in order to complete this checklist",Question:"Question {{count}}","NFC Tag":"NFC Tag ({{name}})",grantAccessCameraRollTitle:"Access denied",grantAccessCameraRollMessage:"You have to give the permission to access the camera and camera roll in order to add a picture to this question",missingNFCValidationTitle:"Missing NFC Validation",missingNFCValidationMessage:"You have to scan the NFC Tag required in: Question {{number}}",missingResponseValidationTitle:"Missing response",missingResponseValidationMessage:"You have to give your response in: Question {{number}}",checklistSendSuccessTitle:"Checklist completed",checklistSendSuccessMessage:"Your checklist has been sent, thank you.",checklistNotActiveTitle:"Checklist not actived",checklistNotActiveMessage:"This checklist is not actived, you cannot use it",SwipeNotifDescription:"swipe a notification from left to right to see the available actions.",forgotPasswordSentTitle:"Check your email",forgotPasswordSentMessage:"We sent an email to {{email}} with instructions to reset your password.",forgotPasswordSentCheckEmail:"Open mail application",forgotPasswordSentOK:"OK",forgotPasswordParagraph:"Please enter your email address in the input then press send. If your email is recognized you will receive an email with instructions.",forgotPassword:"Forgot password ?",loginNoMatchTitle:"We are sorry",loginNoMatchMessage:"We don\u2019t recognize {{username}} or {{username}} with this password combination. Please confirm your email and password or contact us at support@safebuildings.ca.",buttonWithoutChecklistTitle:"There is no checklist to load",buttonWithoutChecklistMessage:"There is no checklist associated with this button, please add a checklist to this button to proceed."},wa={t:function(e){var t,n;return null!=(t=null===(n=Oa)||void 0===n?void 0:n[e])?t:e}},Sa=wa.t,xa="containers/LoginBox/SUBMIT_FORM",Ca="containers/LoginBox/FORM_SUBMITTED_FAIL",Ta="containers/LoginBox/ERROR_LOGIN",ja="containers/LoginBox/UNMOUNT",Ia="containers/LoginBox/TRYLOCALAUTH",ka="containers/LoginBox/CANLOCALAUTH";var Na={loading:!1,username:"",password:"",remember:!1,terms:!1,sent:!1,tryAuth:0,localAuthSupport:!1,error:{username:!1,password:!1,match:!1}},Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case xa:e.loading=!0,e.error.username=!1,e.error.password=!1,e.error.match=!1;break;case"containers/LoginBox/CHANGE_INPUT":e[t.name]=t.value,e.error.username=!1,e.error.password=!1,e.error.match=!1;break;case"containers/LoginBox/FORM_SUBMITTED_SUCCESS":e.sent=!0,e.terms=t.terms;break;case Ca:e.loading=!1,e.error.match=!0,e.tryAuth=4;break;case Ia:e.tryAuth+=1;break;case Ta:Object.keys(t.error).forEach((function(n){e.error[n]=t.error[n]})),e.tryAuth=4;break;case ja:e.error.match=!1,e.tryAuth=0;break;case ka:e.localAuthSupport=t.support}}))};function Ra(e){return{type:Ca,err:e}}var Aa=r.a.mark(Ma),Fa=r.a.mark($a),Da=r.a.mark(Ua);function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ma(){var e,t,n,a,o,i,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=xt()+"/action/getPerson",t={url:e,method:"GET"},r.next=5,Object(te.a)(Dt,t);case 5:if(n=r.sent,"string"!==typeof(a=n.data)){r.next=12;break}return r.next=10,Object(te.d)(Ra());case 10:r.next=25;break;case 12:return r.next=14,Object(te.a)(At.getUser);case 14:return o=r.sent,i=Ba({},o,{},a),r.next=18,Object(te.a)(At.setUser,i);case 18:return r.next=20,Object(te.d)(Mt(i));case 20:return s=null!==i.addInfo2&&i.addInfo2,r.next=23,Object(te.d)({type:"containers/LoginBox/FORM_SUBMITTED_SUCCESS",terms:s});case 23:return r.next=25,Object(te.d)(Ut(i));case 25:r.next=32;break;case 27:return r.prev=27,r.t0=r.catch(0),r.next=31,Object(te.d)(Ra(r.t0));case 31:L.captureException(r.t0);case 32:case"end":return r.stop()}}),Aa,null,[[0,27]])}function $a(e){var t,n,a,o,i,s,c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.username,n=e.password,a={username:t,password:n},r.next=4,Object(te.a)(At.setCreds,a);case 4:return o=xt()+"/action/login",i={url:o,method:"POST",params:{username:t,password:n,autoLogin:!0,getToken:!0,ajax:!0}},r.prev=6,r.next=9,Object(te.a)(Dt,i);case 9:if(s=r.sent,"string"!==typeof(c=s.data)){r.next=16;break}return r.next=14,Object(te.d)(Ra());case 14:r.next=20;break;case 16:return r.next=18,Object(te.a)(At.init,c.tokens);case 18:return r.next=20,Object(te.a)(Ma);case 20:r.next=26;break;case 22:return r.prev=22,r.t0=r.catch(6),r.next=26,Object(te.d)(Ra(r.t0));case 26:case"end":return r.stop()}}),Fa,null,[[6,22]])}function Ua(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(xa,$a);case 2:case"end":return e.stop()}}),Da)}var za=function(e){return e.loginbox||Na},_a=function(){return Object(oa.a)(za,(function(e){return e}))},Ha=function(e){return e.network},Ya=m.a.create({background:{flex:1,backgroundColor:"$blueDark"},box:{width:"100%",padding:"2rem 3rem",backgroundColor:"$white",borderTopRightRadius:"$borderRadius",borderTopLeftRadius:"$borderRadius",flex:1},forgotControl:{fontFamily:"$fontRegular",color:"$text",fontSize:".6rem",padding:".5rem"},forgotControlContainer:{justifyContent:"flex-end",marginBottom:"1rem",flexDirection:"row"},contactControl:{fontFamily:"$fontBold",fontSize:".6rem",color:"$text"},containerControls:{flexDirection:"row"},controlLogin:{flex:1},controlLocalAuth:{width:"20%",marginRight:".5rem"},scrollInner:{flexGrow:1}}),Ga=m.a.create({title:{color:"$text",fontFamily:"$fontBold",fontSize:"1.2rem",marginBottom:"1rem"},paragraph:{color:"$text",fontFamily:"$fontRegular",fontSize:".8rem",lineHeight:"1.2rem",marginBottom:"1rem"},paragraphCenter:{textAlign:"center"},subTitle:{color:"$text",fontFamily:"$fontBold",fontSize:".8rem",marginBottom:".5rem"},content:{paddingVertical:"3rem",paddingHorizontal:"1rem",backgroundColor:"$greyLightest",borderTopWidth:1,borderTopColor:"$greyLighter"}});var Va=function(e){var t=e.title,n=e.children;return c.a.createElement(ha.a,{style:Ga.title},n||t)},qa=n(114),Wa=m.a.create({container:{marginBottom:"1rem",position:"relative",paddingTop:"1rem"},input:{borderBottomWidth:1,borderBottomColor:"$borderColor",color:"$blue",fontFamily:"$fontMedium",fontSize:".8rem",paddingVertical:".2rem"},inputError:{borderBottomColor:"$red"},placeholder:{position:"absolute",zIndex:2,color:"$grey",fontFamily:"$fontMedium"},placeholderError:{color:"$red"},labelInactive:{bottom:".4rem",fontSize:".8rem"},labelActive:{bottom:"1.8rem",fontSize:".6rem"}}),Ja=m.a.create({container:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,borderRadius:"$borderRadius",backgroundColor:"$white",marginBottom:"1rem",borderWidth:1,borderColor:"transparent",padding:".8rem - 1"},containerError:{borderColor:"$red"},containerNoShadow:{shadowColor:"#000",shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:0,borderColor:"$borderColor"},input:{height:"10rem",fontFamily:"$fontMedium",fontSize:".8rem",color:"$text",textAlignVertical:"top"},inputError:{color:"$red"}}),Qa=m.a.create({container:{flexDirection:"row",alignItems:"center",marginBottom:"1rem"},label:{color:"$grey",fontSize:".8rem",fontFamily:"$fontMedium",marginRight:"0.5rem"}}),Ka=m.a.create({container:{borderColor:"$borderColor",borderWidth:1,borderRadius:"$borderRadius / 2",marginBottom:"1rem",width:"100%"},picker:{height:"ios"===Et.a.OS?"auto":"2rem",width:"100%",fontFamily:"$fontMedium"},placeholder:{fontSize:".6rem",color:"$grey",fontFamily:"$fontMedium",marginBottom:".2rem"}}),Za=c.a.forwardRef((function(e,t){var n=e.placeholder,a=e.children,r=e.value,o=e.onChangeText,l=e.onChange,u=e.onSubmitEditing,d=e.autoCapitalize,p=e.returnKeyType,m=e.returnKeyLabel,f=e.textContentType,b=e.secureTextEntry,h=e.keyboardType,g=e.error,y=e.onBlur,v=void 0===y?function(){}:y,E=r?de.a.decode(r):"",O=Object(s.useState)(E.length>0),w=i()(O,2),S=w[0],x=w[1],C=t||Object(s.createRef)();return Object(s.useEffect)((function(){x(E.length>0||C.current.isFocused())}),[E]),c.a.createElement(j.a,{style:[Wa.container,S&&Wa.active]},c.a.createElement(ha.a,{style:[Wa.placeholder,g&&Wa.placeholderError,S&&Wa.labelActive,!S&&Wa.labelInactive]},a||n),c.a.createElement(qa.a,{style:[Wa.input,g&&Wa.inputError],value:E,onChangeText:o,onChange:l,onFocus:function(){return x(!0)},onBlur:function(){x(E.length>0),v()},ref:C,onSubmitEditing:u,keyboardAppearance:"dark",autoCapitalize:d,returnKeyType:p,returnKeyLabel:m,textContentType:f,secureTextEntry:b,keyboardType:h}))})),Xa=n(102),er=m.a.create({control:{backgroundColor:"$blue",borderRadius:"$borderRadius",height:"3rem",alignItems:"center",justifyContent:"center",marginBottom:"1rem",flexDirection:"row"},controlSmall:{height:"2.5rem"},innerControl:{flexDirection:"row",alignItems:"center",justifyContent:"center",flex:1},controlLoading:{backgroundColor:"$blueDark"},text:{fontSize:".9rem",color:"$white",fontFamily:"$fontBold",textAlign:"center"},controldark:{backgroundColor:"$grey"},textdark:{color:"$white"},controlalt:{backgroundColor:"$greyLight"},controlaltLight:{backgroundColor:"$greyLighter"},controlsuccess:{backgroundColor:"$green"},textalt:{color:"$white"},textaltLight:{color:"$text"},icon:{fontSize:"1.5rem",color:"$white"},icondark:{color:"$white"},iconalt:{color:"$white"},iconaltLight:{color:"$text"}});var tr=function(e){var t,n=e.title,a=e.children,r=e.onPress,o=e.theme,i=e.loading,s=void 0!==i&&i,l=e.icon,u=e.small;return c.a.createElement(ga.b,{style:[er.control,o&&er["control"+o],s&&er.controlLoading,o&&s&&er["controlLoading"+o],u&&er.controlSmall],onPress:s?null:r,underlayColor:m.a.value("$blueDark")},c.a.createElement(j.a,{style:er.innerControl,accessible:!0},s?c.a.createElement(Xa.a,{size:"small",color:m.a.value("$white")}):c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(I.a,{name:l,style:[er.icon,o&&er["icon"+o]]}),c.a.createElement(ha.a,{style:[er.text,o&&er["text"+o]]},"string"!==typeof(t=a||n)?"":""+t.charAt(0).toUpperCase()+t.slice(1)))))};var nr=function(){return wt?c.a.createElement(ha.a,{style:da.version},"'version' : "+y.a.manifest.version+" | Environment: "+St):c.a.createElement(ha.a,{style:da.version},"version : "+y.a.manifest.version)};var ar={alert:function(e,t,n,a){var r;return!0!==confirm(e+": "+t)&&(null===a||void 0===a?void 0:a.cancelable)?null:null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.onPress()}};var rr=Object(oa.b)({loginBox:_a(),isConnected:Object(oa.a)(Ha,(function(e){return e.isConnected}))});var or=Object(u.c)(rr,(function(e){return{handleChangeInput:function(t,n){return e(function(e,t){return{type:"containers/LoginBox/CHANGE_INPUT",name:t,value:e}}(t,n))},handleSubmitForm:function(t,n,a){return e(function(e,t,n){var a=0===e.length,r=0===t.length;return a||r?{type:Ta,error:{username:a,password:r}}:{type:xa,username:e,password:t,remember:n}}(t,n,a))},handleUnmount:function(){return e({type:ja})}}})),ir=Object(ge.d)(or,C.j,s.memo)((function(e){var t=e.loginBox,n=e.handleChangeInput,a=e.handleSubmitForm,o=e.history,i=e.handleUnmount;Ea({key:"loginbox",reducer:Pa}),ee({key:"loginbox",saga:Ua});var l=Object(s.createRef)(),u=t.username,d=t.error,p=t.password,m=t.remember,f=t.loading,b=t.sent,h=t.terms;return Object(s.useEffect)((function(){return function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(At.getCreds());case 2:(e=t.sent)&&n(e.username,"username");case 4:case"end":return t.stop()}}))}(),function(){i()}}),[]),Object(s.useEffect)((function(){b&&(h?o.push("/dashboard"):o.push("/",{page:"terms"}))}),[b]),Object(s.useEffect)((function(){d.match&&ar.alert(Sa("loginNoMatchTitle"),"We don\u2019t recognize "+u+" or "+u+" with this password combination. Please confirm your email and password or contact us at support@safebuildings.ca.")}),[d.match]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Va,{title:Sa("logIn")}),c.a.createElement(Za,{value:u,placeholder:Sa("emailAddress"),onChangeText:function(e){return n(e,"username")},textContentType:"username",autoCapitalize:"none",keyboardType:"email-address",returnKeyType:"next",onSubmitEditing:function(){return l.current.focus()},error:d.username}),c.a.createElement(Za,{value:p,placeholder:Sa("password"),onChangeText:function(e){return n(e,"password")},onSubmitEditing:function(){return a(u,p,m)},autoCapitalize:"none",returnKeyType:"done",returnKeyLabel:"logIn",textContentType:"password",secureTextEntry:!0,error:d.password,ref:l}),c.a.createElement(j.a,{style:Ya.forgotControlContainer},c.a.createElement(ga.d,{onPress:function(){return o.push({pathname:"/",state:{page:"forgot"}})}},c.a.createElement(ha.a,{style:Ya.forgotControl},Sa("forgotPasswordControl")))),c.a.createElement(j.a,{style:Ya.containerControls},c.a.createElement(j.a,{style:Ya.controlLogin},c.a.createElement(tr,{loading:f,title:Sa("logIn"),onPress:function(){return a(u,p,m)}}))),c.a.createElement(ga.d,{onPress:function(){return o.push({pathname:"/",state:{page:"contact"}})}},c.a.createElement(ha.a,{style:Ya.contactControl},Sa("contactSafeBuildings")),c.a.createElement(nr,null)))})),sr="containers/LoginContact/SUBMIT_FORM",cr="containers/LoginContact/ERROR",lr={loading:!1,email:"",name:"",message:"",phone:"",error:{message:!1,name:!1,email:{empty:!1,valid:!0},server:!1},sent:!1},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case sr:e.loading=!0,e.error.name=!1,e.error.message=!1,e.error.email.empty=!1,e.error.email.valid=!0,e.error.server=!1;break;case"containers/LoginContact/CHANGE_INPUT":e[t.name]=t.value,e.error.name=!1,e.error.message=!1,e.error.email.empty=!1,e.error.email.valid=!0,e.error.server=!1;break;case"containers/LoginContact/FORM_SUBMITTED_FAIL":e.loading=!1,e.error.server=!0;break;case"containers/LoginContact/FORM_SUBMITTED_SUCCESS":e.loading=!1,e.sent=!0;break;case"containers/LoginContact/RESET":Object.keys(lr).forEach((function(t){e[t]=lr[t]}));break;case cr:Object.keys(t.error).forEach((function(n){e.error[n]=t.error[n]}))}}))};function dr(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var pr=r.a.mark(fr),mr=r.a.mark(br);function fr(e){var t,n,a,o,i,s,c,l,u,d,p,m,f,b,h;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,n=e.name,a=e.message,o=e.phone,i=xt()+"/action/contactUs",s=de.a.encode(n),c=de.a.encode(Sa("fullName")),l=de.a.encode(o),u=de.a.encode(Sa("phone")),d=de.a.encode(a),p=de.a.encode(t),m=de.a.encode(Sa("contactMailSubject")),f={url:i,method:"POST",params:{subject:m,ajax:!0,email:p,field1:s,fieldName1:c,field2:l,fieldName2:u,content:d,count:3}},r.prev=10,r.next=13,Object(te.a)(Dt,f);case 13:return b=r.sent,h=b.data,r.next=17,Object(te.d)({type:"containers/LoginContact/FORM_SUBMITTED_SUCCESS",res:h});case 17:r.next=24;break;case 19:return r.prev=19,r.t0=r.catch(10),L.captureException(r.t0),r.next=24,Object(te.d)({type:"containers/LoginContact/FORM_SUBMITTED_FAIL",err:r.t0});case 24:case"end":return r.stop()}}),pr,null,[[10,19]])}function br(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(sr,fr);case 2:case"end":return e.stop()}}),mr)}var hr=function(e){return e.logincontact||lr},gr=function(){return Object(oa.a)(hr,(function(e){return e}))},yr=function(e){return e.user||We},vr=function(){return Object(oa.a)(yr,(function(e){return e.user}))},Er=c.a.forwardRef((function(e,t){var n=e.placeholder,a=e.children,r=e.value,o=void 0===r?"":r,i=e.onChangeText,s=e.onChange,l=e.onSubmitEditing,u=e.autoCapitalize,d=e.returnKeyType,p=e.returnKeyLabel,f=e.textContentType,b=e.secureTextEntry,h=e.error,g=e.noShadow;return c.a.createElement(j.a,{style:[Ja.container,h&&Ja.containerError,g&&Ja.containerNoShadow]},c.a.createElement(qa.a,{style:[Ja.input,h&&Ja.inputError],value:o,onChangeText:i,onChange:s,onSubmitEditing:l,keyboardAppearance:"dark",autoCapitalize:u,returnKeyType:d,returnKeyLabel:p,textContentType:f,secureTextEntry:b,placeholder:a||n,placeholderTextColor:h?m.a.value("$red"):m.a.value("$grey"),multiline:!0,ref:t}))}));var Or=function(e){var t=e.title,n=e.children||t;return e.capitalize&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),c.a.createElement(ha.a,{style:Ga.subTitle},n)},wr=m.a.create({scrollInner:{flexGrow:1}});function Sr(e){var t=e.scroll,n=e.children;return t?c.a.createElement(aa.a,{contentContainerStyle:wr.scrollInner,bounces:!1},n):c.a.createElement(c.a.Fragment,null,n)}var xr=Object(oa.b)({loginContact:gr(),user:vr()});var Cr=Object(u.c)(xr,(function(e){return{handleChangeInput:function(t,n){return e(function(e,t){return{type:"containers/LoginContact/CHANGE_INPUT",value:e,name:t}}(t,n))},handleSubmitForm:function(t,n,a,r){return e(function(e,t,n,a){var r=e.length<5,o=dr(e),i=t.length<3,s=0===n.length;return r||i||s||!o?{type:cr,error:{email:{empty:r,valid:o},name:i,message:s}}:{type:sr,email:e,name:t,message:n,phone:a}}(t,n,a,r))},handleUmount:function(){return e({type:cr,error:{email:{empty:!1,valid:!0},name:!1,message:!1}})},handleReset:function(){return e({type:"containers/LoginContact/RESET"})}}})),Tr=Object(ge.d)(Cr,s.memo,C.j)((function(e){var t=e.loginContact,n=e.user,a=e.handleChangeInput,r=e.handleSubmitForm,o=e.history,i=e.handleUmount,l=e.handleReset,u=e.inApp,d=void 0!==u&&u;Ea({key:"logincontact",reducer:ur}),ee({key:"logincontact",saga:br}),Object(s.useEffect)((function(){return function(){i()}}),[]),Object(s.useEffect)((function(){n.email&&a(de.a.decode(n.email),"email"),n.firstName&&n.lastName&&a(de.a.decode(n.firstName)+" "+de.a.decode(n.lastName),"name")}),[n]);var p=t.email,m=t.name,f=t.message,b=t.loading,h=t.error,g=t.sent,y=t.phone,v=Object(s.createRef)(),E=Object(s.createRef)(),O=Object(s.createRef)();return Object(s.useEffect)((function(){h.server&&ar.alert(Sa("serverErrorTitle"),Sa("serverErrorMessage"))}),[h.server]),Object(s.useEffect)((function(){g&&ar.alert(Sa("messageSubmittedTitle"),Sa("messageSubmittedMessage"),[{text:"messageSubmittedAction",onPress:function(){return l()}}],{cancelable:!1})}),[g]),c.a.createElement(Sr,{scroll:d},d?c.a.createElement(Or,{title:Sa("sendUsAMessage")}):c.a.createElement(Va,{title:Sa("sendUsAMessage")}),c.a.createElement(Za,{value:p,onChangeText:function(e){return a(e,"email")},placeholder:Sa("emailAddress"),autoCapitalize:"none",autoCompleteType:"email",keyboardType:"email-address",error:h.email.empty||!h.email.valid,returnKeyType:"next",onSubmitEditing:function(){return v.current.focus()}}),c.a.createElement(Za,{value:m,onChangeText:function(e){return a(e,"name")},placeholder:Sa("fullName"),error:h.name,returnKeyType:"next",onSubmitEditing:function(){return E.current.focus()},ref:v}),c.a.createElement(Za,{value:y,onChangeText:function(e){return a(e,"phone")},placeholder:Sa("phone"),error:h.phone,returnKeyType:"next",onSubmitEditing:function(){return O.current.focus()},ref:E}),c.a.createElement(Er,{value:f,onChangeText:function(e){return a(e,"message")},placeholder:Sa("yourMessage"),error:h.message,ref:O}),c.a.createElement(tr,{onPress:function(){return r(p,m,f,y)},title:Sa("sendYourMessage"),loading:b}),!d&&c.a.createElement(tr,{onPress:function(){return o.push("/")},theme:"alt",title:Sa("cancel")}))})),jr={loading:!1,error:{server:!1},sent:!1},Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case"containers/LoginTerms/SUBMIT_FORM":e.loading=!0,e.error.server=!1,e.sent=!1;break;case"containers/LoginTerms/FORM_SUBMITTED_SUCCESS":e.loading=!1,e.sent=!0,e.error.server=!1;break;case"containers/LoginTerms/FORM_SUBMITTED_FAIL":e.loading=!1,e.error.server=!0;break;case"containers/LoginTerms/ERROR":Object.keys(t.error).forEach((function(n){e.error[n]=t.error[n]}))}}))};var kr=r.a.mark(Pr),Nr=r.a.mark(Rr);function Pr(){var e,t,n,a;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=xt()+"/action/updatePerson",t={url:e,method:"POST",params:{field2:!0,ajax:!0}},r.prev=2,r.next=5,Object(te.a)(Dt,t);case 5:return n=r.sent,a=n.data,r.next=9,Object(te.d)({type:"containers/LoginTerms/FORM_SUBMITTED_SUCCESS",res:a});case 9:r.next=16;break;case 11:return r.prev=11,r.t0=r.catch(2),L.captureException(r.t0),r.next=16,Object(te.d)({type:"containers/LoginTerms/FORM_SUBMITTED_FAIL",err:r.t0});case 16:case"end":return r.stop()}}),kr,null,[[2,11]])}function Rr(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)("containers/LoginTerms/SUBMIT_FORM",Pr);case 2:case"end":return e.stop()}}),Nr)}var Ar=function(e){return e.loginterms||jr},Fr=function(){return Object(oa.a)(Ar,(function(e){return e}))},Dr=n(617),Lr=n(569),Br=m.a.create({separator:{height:1,backgroundColor:"$borderColor",marginVertical:"1rem"},separatorLight:{backgroundColor:"$white"},separatorSmall:{marginVertical:".5rem"},separatorFlat:{marginVertical:0},separatorBlank:{height:0}});var Mr=function(e){var t=e.small,n=e.blank,a=e.flat,r=e.light;return c.a.createElement(j.a,{style:[Br.separator,t&&Br.separatorSmall,n&&Br.separatorBlank,a&&Br.separatorFlat,r&&Br.separatorLight]})};var $r=function(e){var t=e.html,n=e.noMargin,a=void 0!==n&&n;return c.a.createElement(j.a,{style:{marginBottom:a?0:m.a.value("2rem")}},c.a.createElement(Dr.a,{html:t,imagesMaxWidth:g.a.get("window").width-m.a.value("2rem"),onLinkPress:function(e,t){return Lr.a.openURL(t)},tagsStyles:{p:{fontFamily:m.a.value("$fontRegular"),color:m.a.value("$text"),marginBottom:m.a.value("1rem"),fontSize:m.a.value(".8rem")},i:{fontFamily:m.a.value("$fontRegular"),color:m.a.value("$text"),fontSize:m.a.value(".8rem")},b:{fontFamily:m.a.value("$fontBold"),color:m.a.value("$text"),fontSize:m.a.value(".8rem")},li:{fontFamily:m.a.value("$fontRegular"),color:m.a.value("$text"),fontSize:m.a.value(".8rem")},ul:{marginBottom:m.a.value("1rem")},ol:{marginBottom:m.a.value("1rem")},strong:{fontFamily:m.a.value("$fontBold"),color:m.a.value("$text"),fontSize:m.a.value(".8rem")},img:{marginBottom:m.a.value("1rem")},em:{fontFamily:m.a.value("$fontRegular"),color:m.a.value("$text"),fontSize:m.a.value(".8rem"),marginBottom:m.a.value("1rem")},a:{fontFamily:m.a.value("$fontBold"),color:m.a.value("$blue"),fontSize:m.a.value(".8rem")},h1:{fontFamily:m.a.value("$fontBold"),color:m.a.value("$text"),marginBottom:m.a.value("1rem")},h2:{fontFamily:m.a.value("$fontBold"),color:m.a.value("$text"),marginBottom:m.a.value("1rem")},h3:{fontFamily:m.a.value("$fontMedium"),color:m.a.value("$text"),marginBottom:m.a.value("1rem")},h4:{fontFamily:m.a.value("$fontMedium"),color:m.a.value("$text"),marginBottom:m.a.value("1rem")},h5:{fontFamily:m.a.value("$fontMedium"),color:m.a.value("$text"),marginBottom:m.a.value("1rem")},div:{marginBottom:m.a.value(".25rem")}},renderers:{hr:function(){return c.a.createElement(Mr,null)}}}))},Ur="<p class=MsoBodyText align=center style='text-align:center'><b><span\nstyle='font-size:11.0pt'>TERMS OF USE</span></b></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>Please\nread these Terms of Use (\u201cTerms\u201d) carefully before using Safebuildings\u2019\nwebsite, applications, products and services (collectively, the \u201cService\u201d).\nThe Service is provided to you by Safe Buildings Tech Inc. (\u201cSafebuildings\u201d,\n\u201cwe\u201d, \u201cour\u201d or \u201cus\u201d). Your access to and use of the Service is subject to these\nTerms. By downloading, installing, accessing and/or using the Service you agree\nto be bound by these Terms whether or not you have read them. <b>If you do not\nagree to these Terms, do not download, install, access or use the Service.</b> </span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>Safebuildings\nmay at its sole discretion modify these Terms at any time and such\nmodifications will be effective immediately upon being posted on the Service<b>.</b>\nPlease check these Terms periodically for any modifications. <b>If you do not\nagree to any modifications of these Terms, you must immediately stop using the\nService.</b> Your continued use of the Service following posting of any\nmodifications will indicate your acceptance of any such modified Terms.</span></p>\n\n<p class=IPStandard1>1.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Availability</span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(a)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>You may use the Service only if you can\nform a binding contract with Safebuildings, and only in compliance with these\nTerms and all applicable laws. If you are using the Services on behalf of a\ncompany, organization or other entity (each, an \u201cOrganisation\u201d), \u201cyou\u201d shall\ninclude such Organization and you represent and warrant to us that you have the\nauthority to bind such Organization to these Terms.</span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(b)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>In order to access and use the Services,\nyou may be required to register and set up an account with us. When you\nregister for an account, you must provide us with accurate and complete\ninformation. You are solely responsible for maintaining the confidentiality of\nyour account login credentials, including your password. You are solely\nresponsible for all activities that occur under your account, including\nunauthorized use by a third party. If you are using the Services on behalf of\nan Organization, each individual user of the Organization will create their own\naccount and you agree not to share your account within the Organization. </span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(c)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>If you are using Safebuildings\u2019 mobile\napplication, we hereby grant you a non-exclusive, time-limited,\nnon-transferable, non-sub-licensable, revocable license to install and use\nSafebuildings\u2019 mobile application on your mobile device, subject to these\nTerms.</span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(d)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Your use of the Service must comply with\nthese Terms and all of our policies.</span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span lang=EN>(e)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>We reserve the right to\nrefuse access to the Service to anyone for any reason at any time.</span></p>\n\n<p class=IPStandard1>2.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Prohibited Activities</span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span lang=EN style='font-size:11.0pt'>Safebuildings reserves the right at\nall times to prohibit activities that may damage its legal interests,\ncommercial reputation and/or goodwill, or that of its affiliates or its users.\nAs such, all conduct that violates law, regulation, or is deemed inappropriate\n(as determined by Safebuildings in its sole discretion), whether or not\nexpressly mentioned in these Terms, is prohibited. Without limiting the\nforegoing, you shall NOT: </span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(a)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN style='font-size:11.0pt'>use the Service for any illegal\nor unauthorized purpose;</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(b)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>post or otherwise make\navailable on or via the Service Content (as defined below) that is\ndiscriminatory, unlawful, infringing, or otherwise inappropriate;</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(c)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>post or otherwise make\navailable on or via the Service third-party information you are obligated to\nkeep confidential or that you do not have the authority to do so;</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(d)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>solicit, obtain or use the\nlogin credentials of another user of the Service;</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(e)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>interfere or disrupt the\nService or servers or networks connected to the Service, including by\ntransmitting any worms, viruses, spyware, malware or any other code of a\ndestructive or disruptive nature;</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(f)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span style='font-size:11.0pt'>use, modify, reproduce,\ndistribute, sell, license, or otherwise use the Service (or any Service Content\naccessible therein) without our permission</span><span lang=EN\nstyle='font-size:11.0pt'>; and</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(g)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>crawl, scrape, cache, frame,\nmirror or otherwise access any content on the Service via automated means.</span></p>\n\n<p class=IPStandard1>3.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>User Content</span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(a)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>You are solely responsible for your\nconduct and any content, including images, comments, and other materials or\ninformation that you upload, post or otherwise make available on or via the\nService (collectively, the \u201cUser Content\u201d). You represent and warrant that the\nUser Content does not and will not violate any law or infringe, misappropriate\nor otherwise violate the rights of any third-party, including </span><span\nlang=EN style='font-size:11.0pt'>without limitation, privacy rights,\ncopyrights, trade-mark and/or other intellectual property rights.</span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(b)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Safe Buildings does not claim ownership\nof any User Content. You grant Safebuildings a non-exclusive, worldwide,\nroyalty-free, fully paid, sublicensable, fully transferable, perpetual,\nirrevocable license to use, process, transmit, host, store, transfer, display,\nreproduce, modify, and disclose the User Content (a) for the purpose of\nproviding the services to you and our other users, and (b) in a form that does\nnot identify you as the source of the User Content, for our business purposes\nincluding to develop and improve Safebuildings products and services. You\nrepresent and warrant that you have the right to grant all permissions and\nlicenses provided in these Terms.</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(c)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>We may, but are not\nobligated to, modify, remove, block, and/or monitor any User Content or user\naccount that we believe in our sole discretion violates these Terms.</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(d)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span style='font-size:11.0pt'>Some portions of the Services\nprovide fire safety plans and other building essential and emergency\ninformation and related checklists (collectively, \u201cService Content\u201d)\nelectronically to you through Safebuildings\u2019 mobile application or software\naccessible by an Internet browser accessing our website. </span><span lang=EN\nstyle='font-size:11.0pt'>If you are providing content to us to make available\nto other users through the Service as Service Content, additional terms and\nconditions apply.</span></p>\n\n<p class=IPStandard1>4.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Intellectual Property </span></p>\n\n<p class=IPStandard2 style='text-align:justify'>(a)<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN style='font-size:11.0pt'>The Service may incorporate,\ncontain or otherwise use content (including Service Content), software or other\ntechnology owned or licensed by Safebuildings (the &quot;Safebuildings\nIP&quot;). The Safebuildings IP may be protected by copyright, trade-mark,\npatent, trade secret and other laws, and, as between you and Safebuildings,\nSafebuildings retains all rights in the Safebuildings IP and the Service. You\nwill not remove, alter or conceal any copyright, trade-mark, service mark or\nother proprietary rights notices incorporated in or accompanying the Safebuildings\nIP and you will not reproduce, modify, adapt, prepare derivative works based\non, display, publish, distribute, transmit, broadcast, sell, license or\notherwise exploit the Safebuildings IP.</span></p>\n\n<p class=IPStandard2 style='text-align:justify'><span lang=EN>(b)<span\nstyle='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span></span><span lang=EN style='font-size:11.0pt'>If you choose to send us\ncomments, ideas, suggestions, or other feedback (\u201cFeedback\u201d), which is not\nsubject to other provisions in these Terms, you agree that Safebuildings is\nfree to use any such Feedback, without any restriction, liability or\ncompensation to you of any kind. Safebuildings\u2019 acceptance of such Feedback\ndoes not waive any rights to use similar or related Feedback previously known,\ndeveloped, or otherwise obtained by Safebuildings from other sources.</span></p>\n\n<p class=IPStandard1 style='margin-top:12.0pt'>5.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Privacy Policy</span></p>\n\n<p class=IPStandard1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:\n12.0pt;margin-left:0cm;text-indent:0cm'><span style='font-size:11.0pt;\nfont-weight:normal'>The personal information practices of the Service are\ngoverned by the Privacy Policy at </span><a\nhref=\"https://www.safebuildings.ca/privacy-policy/\"><span style='font-size:\n11.0pt;font-weight:normal'>https://www.safebuildings.ca/privacy-policy/</span></a><span\nstyle='font-size:11.0pt;font-weight:normal'>. Please review this Privacy\nPolicy. </span></p>\n\n<p class=IPStandard1>6.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Third-Party Content</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>The\nService and Service Content may contain third-party content that is not owned\nby Safebuildings. We do not verify, endorse, or assume any responsibility for,\nany such third-party content. If you access any third-party content from the\nService, you do so at your own risk and you agree that Safebuildings will have\nno liability arising from your use of or access to any third-party content.\nAll correspondence and/or dealings with a third-party found through the Service\nare solely between you and the third party.</span></p>\n\n<p class=IPStandard1>7.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Modifications</span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span style='font-size:11.0pt'>We reserve the right to update, upgrade or\notherwise modify the Service or your access to the Service at our sole\ndiscretion, without notice, and without liability to you. You agree that these\nTerms will automatically apply to any such update, upgrade or other\nmodification.</span></p>\n\n<p class=IPStandard1>8.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Termination</span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span style='font-size:11.0pt'>We reserve the right to modify or terminate\nthe Service or your access to the Service at our sole discretion, without\nnotice, and without liability to you. Upon termination, all licenses or other\nrights granted to you in these Terms will immediately terminate. You remain\nbound by Sections 3, 4, 6, and 8 to 16 of these Terms.</span></p>\n\n<p class=IPStandard1>9.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Indemnity</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>You\nagree to indemnify, defend and hold harmless Safebuildings and its affiliates\nand any of their officers, directors, employees, agents and other\nrepresentatives (collectively, the \u201cSafebuildings Parties\u201d), from and against\nany claims, suits, proceedings, disputes, demands, liabilities, damages,\nlosses, costs and expenses, including, without limitation, reasonable legal and\naccounting fees (including costs of defense of claims, suits or proceedings\nbrought by third parties), in any way related to (a) your access to or use of\nthe Service (and the content provided therein), (b) User Content, (c) your\nbreach of any of these Terms, (d) your violation of any third-party right,\nincluding without limitation, any intellectual property rights, (e) your\nviolation of any laws, rules, regulations, codes, statutes, ordinances or\norders of any governmental and quasi-governmental authorities, or (f) any\nmisrepresentation made by you.</span></p>\n\n<p class=IPStandard1>10.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Disclaimers</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>The\nService, its contents, and any functionalities and services offered or\ncontained therein are provided on an \u201cas is\u201d basis and on an \u201cas available\u201d\nbasis without any representations, warranties, guarantees or conditions of any\nkind, whether express, legal or implied.</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>SAFEBUILDINGS\nSPECIFICALLY DISCLAIMS ANY AND ALL REPRESENTATIONS, WARRANTIES, GUARANTEES AND\nCONDITIONS, INCLUDING WITHOUT LIMITATION, REPRESENTATIONS, WARRANTIES,\nGUARANTEES AND CONDITIONS OF MERCHANTABLE QUALITY, QUALITY OR FITNESS FOR A\nPARTICULAR PURPOSE, NON-INFRINGEMENT OF THIRD-PARTY RIGHTS, ERROR-FREE OR\nUNINTERRUPTED SERVICE, ACCURACY, AVAILABILITY, RELIABILITY, SECURITY, CURRENCY\nAND COMPLETENESS ARISING FROM OR RELATING TO THE SERVICE, ITS CONTENT, USER\nCONTENT OR ANY FUNCTIONALITIES OR SERVICES PROVIDED THEREIN. </span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>Safebuildings\ndoes not verify, endorse, and takes no responsibility and assume no liability\nfor, any Service Content. You understand and agree that you may be exposed to\nService Content that is inaccurate, incomplete, incorrect or otherwise unsuited\nto your purpose.</span></p>\n\n<p class=IPStandard1>11.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Limitation of Liability</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>TO\nTHE MAXIMUM EXTENT PERMITTED BY LAW, THE SAFEBUILDINGS PARTIES SHALL NOT BE\nLIABLE, WHETHER BASED ON WARRANTY, CONTRACT, TORT, NEGLIGENCE, STRICT LIABILITY\nOR ANY OTHER LEGAL THEORY, FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL\nOR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED\nDIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA, USE, GOOD-WILL, OR OTHER\nINTANGIBLE LOSSES, RESULTING FROM OR RELATED TO (A) USER CONTENT; (B) YOUR\nACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE THE SERVICE (AND THE CONTENTS\nTHEREIN); (C) ANY CONDUCT OR CONTENT OF ANY THIRD-PARTY ON THE SERVICE,\nINCLUDING WITHOUT LIMITATION, ANY SERVICE CONTENT OF OTHER USERS OR THIRD\nPARTIES; OR (D) UNAUTHORIZED ACCESS, USE OR ALTERATION OF YOUR TRANSMISSIONS OR\nCONTENT. IN NO EVENT SHALL THE SAFEBUILDINGS PARTIES\u2019 AGGREGATE LIABILITY TO\nYOU FOR ALL CLAIMS RELATED TO THE SERVICE EXCEED THE GREATER OF ONE HUNDRED\nCANADIAN DOLLARS (CAD$100.00) OR THE AMOUNTS PAID BY YOU TO SAFEBUILDINGS FOR\nTHE SERVICE IN THE LAST TWELVE (12) MONTHS PRIOR TO THE ACTION GIVING RISE TO\nTHE LIABLITY.</span></p>\n\n<p class=IPStandard1>12.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Arbitration</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>For\nany dispute you have with any of the Safebuildings Parties, you agree to first\ncontact us and attempt to resolve the dispute with us informally. If\nSafebuildings has not been able to resolve the dispute with you informally, we\neach agree that any claim, dispute, or controversy (excluding claims for\ninjunctive or other equitable relief) arising out of or in connection with or\nrelating to these Terms are to be arbitrated and finally resolved, pursuant to\nthe National Arbitration Rules of the ADR Institute of Canada, Inc. Unless\nSafebuildings agrees otherwise, the place of arbitration shall be Toronto,\nOntario, Canada. The language of the arbitration shall be English. Nothing in\nthis Section shall prevent either party from seeking injunctive or other\nequitable relief from the courts for matters related to intellectual property\nor unauthorized access to the Service. You hereby consent and submit to the\njurisdiction of the courts of the Province of Ontario and the Federal Court of\nCanada in any such action or proceeding and agree not to commence any action or\nproceeding except in Toronto, Ontario, Canada. ALL CLAIMS MUST BE BROUGHT IN\nTHE PARTIES\u2019 INDIVIDUAL CAPACITY, AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY\nPURPORTED CLASS OR REPRESENTATIVE PROCEEDING, AND, UNLESS WE AGREE OTHERWISE,\nTHE ARBITRATOR MAY NOT CONSOLIDATE MORE THAN ONE PERSON\u2019S CLAIMS. YOU AGREE\nTHAT, BY ENTERING INTO THESE TERMS, YOU AND SAFEBUILDINGS ARE EACH WAIVING THE\nRIGHT TO A TRIAL BY JURY OR TO PARTICIPATE IN A CLASS ACTION.</span></p>\n\n<p class=IPStandard1>13.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Governing Law and Jurisdiction</span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span style='font-size:11.0pt'>The interpretation, validity, effect and\nenforcement of the Terms are governed by the laws of the Province of Ontario\nand the laws of Canada applicable therein. These laws apply to the access and\nuse of the Services by you, notwithstanding any conflicts of laws principles,\nyour domicile, residency or physical location. </span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span style='font-size:11.0pt'>The Service is controlled and operated from\nCanada, and we make no representations that the Service is appropriate or\navailable for use in other locations. The Service is intended for use only in\njurisdictions where the Service may lawfully be provided for use.</span></p>\n\n<p class=IPStandard1>14.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Assignment</span></p>\n\n<p class=IPStandard2 style='margin-left:0cm;text-align:justify;text-indent:\n0cm'><span style='font-size:11.0pt'>These Terms, and any rights and licenses\ngranted hereunder, may not be transferred or assigned by you, but may be\nassigned by Safebuildings without restriction. Any attempted transfer or\nassignment in violation of this Section shall be null and void.</span></p>\n\n<p class=IPStandard1>15.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>Entire Agreement</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>These\nTerms, together with any policies referred to herein, and any amendments and\nany additional agreements you may enter into with Safebuildings in connection\nwith the Service, shall constitute the entire agreement between you and\nSafebuildings concerning the Service and supersede any prior terms you have\nwith Safebuildings regarding the Service. If any provision of these Terms is\ndeemed invalid, then that provision will be limited or eliminated to the\nminimum extent necessary, and the remaining provisions of these Terms will\nremain in full force and effect.</span></p>\n\n<p class=IPStandard1>16.<span style='font:7.0pt \"Times New Roman\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span style='font-size:11.0pt'>No Waiver</span></p>\n\n<p class=MsoBodyText style='text-align:justify'><span style='font-size:11.0pt'>No\nwaiver of any term of these Terms shall be deemed a further or continuing\nwaiver of such term or any other term, and Safebuildings\u2019 failure to assert any\nright or provision under these Terms shall not constitute a waiver of such\nright or provision. </span></p>";var zr=Object(oa.b)({loginTerms:Fr()});var _r=Object(u.c)(zr,(function(e){return{handleSubmitForm:function(){return e({type:"containers/LoginTerms/SUBMIT_FORM"})}}})),Hr=Object(ge.d)(_r,s.memo,C.j)((function(e){var t=e.loginTerms,n=e.handleSubmitForm,a=e.history;Ea({key:"loginterms",reducer:Ir}),ee({key:"loginterms",saga:Rr});var r=t.sent,o=t.loading,i=t.error;return Object(s.useEffect)((function(){r&&a.push("/dashboard")}),[r]),Object(s.useEffect)((function(){i.server&&ar.alert(Sa("serverErrorTitle"),Sa("serverErrorMessage"))}),[i.server]),c.a.createElement(c.a.Fragment,null,c.a.createElement($r,{html:Ur}),c.a.createElement(tr,{onPress:n,title:Sa("Accept"),loading:o}),c.a.createElement(tr,{theme:"alt",title:Sa("Decline"),onPress:At.logout}))})),Yr=n(34),Gr={loading:!1,email:"",error:{email:{empty:!1,valid:!0},server:!1},sent:!1},Vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case"containers/ForgotPassword/SUBMIT_FORM":e.loading=!0,e.error.email.empty=!1,e.error.email.valid=!0,e.error.server=!1;break;case"containers/ForgotPassword/CHANGE_INPUT":e[t.name]=t.value,e.error.email.empty=!1,e.error.email.valid=!0,e.error.server=!1;break;case"containers/ForgotPassword/RESET":Object.keys(Gr).forEach((function(t){e[t]=Gr[t]}));break;case"containers/ForgotPassword/ERROR":Object.keys(t.error).forEach((function(n){e.error[n]=t.error[n]}));break;case"containers/ForgotPassword/FORM_SUBMITTED_SUCCESS":e.loading=!1,e.sent=!0;break;case"containers/ForgotPassword/FORM_SUBMITTED_FAIL":e.loading=!1,e.error.server=!0}}))};var qr=r.a.mark(Jr),Wr=r.a.mark(Qr);function Jr(e){var t,n,a,o,i;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,n=xt()+"/action/forgotPassword",a={url:n,method:"POST",params:{ajax:!0,email:t}},r.prev=3,r.next=6,Object(te.a)(Dt,a);case 6:return o=r.sent,i=o.data,r.next=10,Object(te.d)({type:"containers/ForgotPassword/FORM_SUBMITTED_SUCCESS",res:i});case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(3),L.captureException(r.t0),r.next=17,Object(te.d)({type:"containers/ForgotPassword/FORM_SUBMITTED_FAIL",err:r.t0});case 17:case"end":return r.stop()}}),qr,null,[[3,12]])}function Qr(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)("containers/ForgotPassword/SUBMIT_FORM",Jr);case 2:case"end":return e.stop()}}),Wr)}var Kr=function(e){return e.forgotpassword||Gr},Zr=function(){return Object(oa.a)(Kr,(function(e){return e}))};var Xr=function(e){var t=e.children,n=e.content,a=e.center;return c.a.createElement(ha.a,{style:[Ga.paragraph,a&&Ga.paragraphCenter]},t||n)};var eo=Object(oa.b)({forgotPassword:Zr()});var to=Object(u.c)(eo,(function(e){return{handleChangeInput:function(t,n){return e(function(e,t){return{type:"containers/ForgotPassword/CHANGE_INPUT",value:e,name:t}}(t,n))},handleSubmitForm:function(t){return e(function(e){var t=e.length<5,n=dr(e);return t||!n?{type:"containers/ForgotPassword/ERROR",error:{email:{empty:t,valid:n}}}:{type:"containers/ForgotPassword/SUBMIT_FORM",email:e}}(t))},handleUmount:function(){return e({type:"containers/ForgotPassword/RESET"})},handleReset:function(){return e({type:"containers/ForgotPassword/RESET"})}}})),no=Object(ge.d)(to,C.j,s.memo)((function(e){var t=e.forgotPassword,n=e.handleChangeInput,a=e.handleSubmitForm,o=e.history,i=e.handleUmount;Ea({key:"forgotpassword",reducer:Vr}),ee({key:"forgotpassword",saga:Qr});var l=t.email,u=t.loading,d=t.error,p=t.sent;return Object(s.useEffect)((function(){return function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(At.getCreds());case 2:(e=t.sent)&&n(e.username,"email");case 4:case"end":return t.stop()}}))}(),function(){i()}}),[]),Object(s.useEffect)((function(){return function(){i()}}),[]),Object(s.useEffect)((function(){d.server&&ar.alert(Sa("serverErrorTitle"),Sa("serverErrorMessage")+" "+l)}),[d.server]),Object(s.useEffect)((function(){p&&ar.alert(Sa("forgotPasswordSentTitle"),Sa("forgotPasswordSentMessage")+" "+l,[{text:Sa("forgotPasswordSentOK"),onPress:function(){return o.push("/")}}],{cancelable:!1})}),[p]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Va,{title:Sa("forgotPassword")}),c.a.createElement(Xr,{content:Sa("forgotPasswordParagraph")}),c.a.createElement(Xr,null,"If this still does not resolve your issue please contact us at support@safebuildings.ca or 289-434-5510"),c.a.createElement(Za,{value:l,placeholder:Sa("emailAddress"),onChangeText:function(e){return n(e,"email")},autoCapitalize:"none",autoCompleteType:"email",keyboardType:"email-address",returnKeyType:"send",onSubmitEditing:function(){return a(l)},error:d.email.empty||!d.email.valid}),c.a.createElement(tr,{loading:u,title:Sa("send"),onPress:function(){return a(l)}}),c.a.createElement(tr,{theme:"alt",title:Sa("cancel"),onPress:function(){return o.push("/")}}),c.a.createElement(Yr.a,{onPress:function(){return o.push({pathname:"/",state:{page:"contact"}})}},c.a.createElement(ha.a,{style:Ya.contactControl},Sa("contactSafeBuildings")),c.a.createElement(nr,null)))}));var ao=Object(oa.b)({loading:Object(oa.a)(ia,(function(e){return e.loading}))});var ro=Object(u.c)(ao,(function(e){return{handleReady:function(){return e({type:Ce})},handleSetUser:function(t){return e(Mt(t))}}})),oo=Object(ge.d)(ro,s.memo)((function(e){var t=e.loading,n=e.handleReady,a=e.handleSetUser,o=Object(C.h)(),l=Object(C.g)(),u=Object(s.useState)(!0),d=i()(u,2),p=d[0],m=d[1];return Object(s.useEffect)((function(){t||(m(!0),setTimeout((function(){m(!1)}),200))}),[o.state,t]),Object(s.useEffect)((function(){!function(){var e,o,i,s,c,u,d,p,m,f,b;r.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(e=!1,!t){h.next=67;break}return h.prev=2,h.next=5,r.a.awrap(At.getToken());case 5:if(!h.sent){h.next=62;break}return h.next=9,r.a.awrap(At.getUser());case 9:return o=h.sent,h.next=12,r.a.awrap(At.isTokenExpired());case 12:if(i=h.sent,!(null===o||void 0===o?void 0:o.addInfo2)){h.next=60;break}if(!i){h.next=56;break}return s=o.personId,h.next=18,r.a.awrap(At.getRefreshToken());case 18:return c=h.sent,(u=new Headers).append("Authorization","Bearer "+c),h.t0=u,h.next=24,r.a.awrap(y.a.getWebViewUserAgentAsync());case 24:return h.t1=h.sent,h.t2=h.t1+" mg2app",h.t3=y.a.manifest.name,h.t4=h.t2+h.t3,h.t0.append.call(h.t0,"User-Agent",h.t4),u.append("Content-Type","application/x-www-form-urlencoded"),d=xt()+"/action/generateNewTokens?personId="+s,p={headers:u,method:"GET"},h.prev=32,h.next=35,r.a.awrap(fetch(d,p));case 35:if(!(m=h.sent).ok){h.next=48;break}return h.next=39,r.a.awrap(m.json());case 39:return f=h.sent,b=f.tokens,h.next=43,r.a.awrap(At.setToken(b.access));case 43:return h.next=45,r.a.awrap(At.setRefreshToken(b.refresh));case 45:e=!0,h.next=49;break;case 48:At.purgeTokens();case 49:h.next=54;break;case 51:h.prev=51,h.t5=h.catch(32),re.c(h.t5);case 54:h.next=58;break;case 56:e=!0,a(o);case 58:h.next=62;break;case 60:return h.next=62,r.a.awrap(At.purgeTokens());case 62:h.next=67;break;case 64:h.prev=64,h.t6=h.catch(2),re.c(h.t6);case 67:e?l.push("/dashboard"):n();case 68:case"end":return h.stop()}}),null,null,[[2,64],[32,51]])}()}),[t]),t?c.a.createElement(ta.a,{source:ua.a,resizeMode:"cover",style:da.background}):c.a.createElement(ta.a,{source:ca.a,resizeMode:"cover",style:da.background},c.a.createElement(aa.a,{bounces:!1,contentContainerStyle:da.scrollInner},c.a.createElement(ra.a,null,c.a.createElement(ba,null)),c.a.createElement(j.a,{pose:p?"hidden":"visible",style:da.box},c.a.createElement(na.a,{behavior:"padding",enabled:!0},function(){switch(o.state?o.state.page:null){case"contact":return c.a.createElement(Tr,null);case"terms":return c.a.createElement(Hr,null);case"forgot":return c.a.createElement(no,null);default:return c.a.createElement(ir,null)}}()))))})),io=m.a.create({logo:{height:"2.5rem",marginBottom:"1rem",justifyContent:"flex-start"}}),so={filter:""},co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case"containers/LoginBox/CHANGE_INPUT":e[t.name]=t.value;break;case"containers/LoginBox/RESET":Object.keys(so).forEach((function(t){e[t]=so[t]}))}}))},lo=function(e){return e.dashboard||so},uo=function(){return Object(oa.a)(lo,(function(e){return e}))},po=n(181),mo=m.a.create({heading:{paddingTop:"2rem",paddingHorizontal:"1rem",position:"relative",zIndex:2},headingNoPaddingTop:{paddingTop:"1rem - 2"},contentContainer:{},searchContainer:{backgroundColor:"$white",marginBottom:"-1.5rem",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,height:"3rem",borderRadius:"$borderRadius / 2",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},searchInput:{paddingHorizontal:"1rem",paddingVertical:"1rem",fontFamily:"$fontMedium",fontSize:".8rem",flex:1},searchIcon:{fontSize:"2rem",color:"$borderColor",marginHorizontal:"1rem"}});var fo={filter:"",filteredLocations:[]},bo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case"containers/Search/CHANGE_INPUT":e[t.name]=t.value,e.filteredLocations=t.filteredLocations;break;case"containers/Search/RESET":Object.keys(fo).forEach((function(t){e[t]=fo[t]}))}}))},ho=function(e){return e.locations||Re},go=function(){return Object(oa.a)(ho,(function(e){return e.locations}))},yo=function(e){return e.search||fo},vo=function(){return Object(oa.a)(yo,(function(e){return e}))};var Eo=function(e){var t=e.children,n=e.flex,a=e.noPaddingHorizontal;return c.a.createElement(j.a,{style:[Ga.content,n&&{flex:1},a&&{paddingHorizontal:0}]},t)},Oo=n(1031),wo=n(190),So=n.n(wo),xo=m.a.create({container:{marginBottom:"2rem",flexDirection:"row",alignItems:"center"},iconContainer:{borderRadius:"$borderRadius / 2",height:"2rem",width:"2rem",marginRight:"1rem",borderWidth:1,alignItems:"center",justifyContent:"center"},title:{fontFamily:"$fontMedium",paddingRight:"1rem",fontSize:".8rem"}});var Co=function(e){var t=e.icon,n=e.title,a=e.children,r=e.color,o=e.iconType;return c.a.createElement(j.a,{style:xo.container},t&&c.a.createElement(j.a,{style:[xo.iconContainer,{borderColor:r,backgroundColor:So()(r).alpha(.1)}]},function(){switch(o){case"Feather":return c.a.createElement(Oo.a,{style:xo.icon,name:t,color:r,size:m.a.value("1.5rem")});default:return c.a.createElement(I.a,{style:xo.icon,name:t,color:r,size:m.a.value("1.5rem")})}}()),c.a.createElement(ha.a,{style:xo.title},n||a))},To=m.a.create({container:{flexDirection:"row",alignItems:"center",backgroundColor:"$white",marginBottom:"1rem",marginTop:10,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.18,shadowRadius:1,elevation:1,marginLeft:10,borderRadius:"$borderRadius / 2"},iconContainer:{backgroundColor:"$blue",position:"relative",top:-10,left:-10,borderRadius:"$borderRadius / 2",height:"3rem",width:"3rem",aspectRatio:1,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2},icon:{color:"$white",fontSize:"1.5rem"},title:{fontFamily:"$fontBold",fontSize:".8rem",padding:"1rem",flexGrow:1,maxWidth:"100% - 5.5rem"}});var jo=function(e){var t=e.color,n=e.to,a=e.icon,r=e.children,o=e.title,i=e.iconType,s=e.onPress,l=Object(C.g)();return c.a.createElement(Yr.a,{style:To.container,onPress:function(){return n?l.push(n):s()}},c.a.createElement(j.a,{style:[To.iconContainer,{backgroundColor:t}]},function(){switch(i){case"Feather":return c.a.createElement(Oo.a,{style:To.icon,name:a});default:return c.a.createElement(I.a,{style:To.icon,name:a})}}()),c.a.createElement(ha.a,{style:To.title},r||o))};var Io=Object(oa.b)({locations:go(),loading:Object(oa.a)(ho,(function(e){return e.loading})),search:vo()});var ko=Object(u.c)(Io,(function(e){return{handleFilter:function(t,n,a){return e(function(e,t,n){var a=[];return n&&(a=n.filter((function(t){return-1!==(t.field2?t.field2.toUpperCase().search(e.toUpperCase()):t.id.search(e.toUpperCase()))}))),{type:"containers/Search/CHANGE_INPUT",value:e,name:t,filteredLocations:a}}(t,n,a))},handleLoadLocations:function(){return e({type:Pe})}}})),No=Object(ge.d)(ko,s.memo)((function(e){var t=e.search,n=e.locations,a=e.loading,r=e.handleFilter,o=e.handleLoadLocations,i=e.header;Ea({key:"search",reducer:bo});var l=Object(s.createRef)();return Object(s.useEffect)((function(){o()}),[]),Object(s.useEffect)((function(){r(t.filter,"filter",n)}),[n]),c.a.createElement(aa.a,{keyboardDismissMode:"ios"===Et.a.OS?"interactive":"on-drag",refreshControl:c.a.createElement(po.a,{refreshing:a,onRefresh:o})},c.a.createElement(j.a,{style:[mo.heading,i&&mo.headingNoPaddingTop]},i||c.a.createElement(c.a.Fragment,null,c.a.createElement(Va,{title:Sa("Search in your Locations")}),c.a.createElement(Co,{color:m.a.value("$peach"),icon:"md-search"})),c.a.createElement(j.a,null,i&&c.a.createElement(Or,{title:Sa("Search in your locations")}),c.a.createElement(j.a,{style:mo.searchContainer},c.a.createElement(qa.a,{style:mo.searchInput,onChangeText:function(e){return r(e,"filter",n)},value:t.filter,placeholder:Sa("Search by"),returnKeyType:"search",ref:l}),c.a.createElement(I.a,{onPress:function(){return l.current.focus()},name:"md-search",style:mo.searchIcon})))),c.a.createElement(Eo,{flex:!0},c.a.createElement(Va,{title:"Your locations ("+(n?n.length:0)+")"}),t.filteredLocations.map((function(e){return c.a.createElement(jo,{to:"/location/"+e.id,color:m.a.value("$blue"),title:e.field2||e.id,icon:"md-pin",key:e.id})})),(0===n.length||!n)&&!a&&c.a.createElement(Or,{title:Sa("You do not have any location associated")})))}));var Po=Object(oa.b)({dashboard:uo(),user:vr()});var Ro=Object(u.c)(Po,(function(e){return{dispatch:e}})),Ao=Object(ge.d)(Ro,s.memo)((function(e){var t,n=e.user;return Ea({key:"dashboard",reducer:co}),c.a.createElement(No,{header:c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{style:[io.logo,{aspectRatio:3.5}],source:R.a,resizeMode:"contain"}),c.a.createElement(Va,{title:"Welcome "+de.a.decode(null!=(t=null===n||void 0===n?void 0:n.firstName)?t:"")}))})})),Fo=m.a.create({heading:{paddingTop:"2rem",paddingHorizontal:"1rem"},scrollInner:{flexGrow:1}});var Do=function(){return c.a.createElement(ga.c,{contentContainerStyle:Fo.scrollInner},c.a.createElement(j.a,{style:Fo.heading},c.a.createElement(Va,{title:Sa("helpPageTitle")}),c.a.createElement(Co,{title:Sa("helpPageSubTitle"),color:m.a.value("$blueLight"),icon:"md-help"})),c.a.createElement(Eo,{flex:!0},c.a.createElement(Or,null,"QR Code Scanning"),c.a.createElement(Xr,null,"If you are having trouble scanning a QR code to find a location:"),c.a.createElement(Xr,null,"\u2022 Ensure that you have allowed the Safe building app to access your camera."),c.a.createElement(Xr,null,"\u2022 The QR code must be well lit to scan correctly, try enabling your device's flash."),c.a.createElement(Xr,null,"\u2022 You can only access locations that you have permission to see, ensure you are allowed to view the QR code's location."),c.a.createElement(Xr,null,"\u2022 You can only scan QR codes using a compatible mobile device."),c.a.createElement(Or,null,"Finding a Location"),c.a.createElement(Xr,null,"\u2022 You can view a list of the locations you have permission to see on the Home screen."),c.a.createElement(Xr,null,"\u2022 Use the search bar on the Home screen to find a location by its name or address."),c.a.createElement(Xr,null,"\u2022 Scanning a Safe Buildings QR code will direct you to the location's page if you have access."),c.a.createElement(Or,null,"View Site Plans and Documents"),c.a.createElement(Xr,null,"\u2022 Site Plans and documents are in PDF format and Safe Buildings requires access to your native system PDF viewer or other document viewing app."),c.a.createElement(Xr,null,"\u2022 Some documents may be very large and will take a while to load on slower connections."),c.a.createElement(Or,null,"Login Issues"),c.a.createElement(Xr,null,"1. Please snsure you have an active secure internet connection"),c.a.createElement(Xr,null,"2. Please ensure you are using the correct login email and password"),c.a.createElement(Xr,null,"3. If you are unable to remember you password please click forgot password and follow the instructions"),c.a.createElement(Xr,null,"4. If this still does not resolve your issue please contact us at support@safebuildings.ca or 289-434-5510")))},Lo=m.a.create({heading:{paddingTop:"2rem",paddingHorizontal:"1rem"},scrollInner:{flexGrow:1}});var Bo=function(){return c.a.createElement(ga.c,{contentContainerStyle:Lo.scrollInner},c.a.createElement(Eo,null,c.a.createElement($r,{html:Ur})))},Mo=m.a.create({container:{shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27,elevation:10,backgroundColor:"$white",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"1rem",position:"relative",zIndex:10,height:"3rem"},elements:{height:"2rem",width:"2.5rem",justifyContent:"center",alignItems:"center"},addControl:{backgroundColor:"$blue",width:"2.5rem",height:"1.5rem",justifyContent:"center",alignItems:"center",borderRadius:".75rem"},popupPositionner:{position:"relative",left:0,right:0,height:0},popup:{position:"absolute",bottom:"3rem",padding:"1rem",justifyContent:"center",alignItems:"center",left:0,right:0},popupInner:{backgroundColor:"$white",borderWidth:1,borderColor:"$blue",borderRadius:"$borderRadius",padding:"1rem",paddingBottom:0,position:"relative",alignItems:"stretch",zIndex:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},popupPointer:{position:"relative",margin:"auto",bottom:"-.5rem",width:"1rem",height:"1rem",backgroundColor:"$white",borderRightWidth:1,borderRightColor:"$blue",borderBottomWidth:1,borderBottomColor:"$blue",transform:[{rotate:"45deg"}]},popupPointerContainer:{alignItems:"center"},popupLink:{flex:1,paddingVertical:".5rem"},logout:{flexDirection:"row"},logoutIcon:{marginRight:".5rem"},link:{fontFamily:"$fontMedium",color:"$grey",textAlign:"left"},linkLogout:{fontFamily:"$fontBold",color:"$grey"}});var $o=function(){var e=Object(C.h)(),t=Object(C.g)(),n=Object(s.useState)(!1),a=i()(n,2),r=a[0],o=a[1];return Object(s.useEffect)((function(){o(!1)}),[e]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{pose:"enter",initialPose:"exit",style:Mo.container},c.a.createElement(j.a,null,c.a.createElement(Yr.a,{onPress:function(){return t.push("/dashboard")},component:Yr.a,style:Mo.elements},c.a.createElement(I.a,{name:"md-home",size:m.a.value("1.5rem"),color:"/dashboard"===e.pathname?m.a.value("$green"):m.a.value("$grey")}))),c.a.createElement(j.a,null,c.a.createElement(Yr.a,{onPress:function(){return t.push("/search")},component:Yr.a,style:Mo.elements},c.a.createElement(I.a,{name:"md-search",size:m.a.value("1.5rem"),color:"/search"===e.pathname?m.a.value("$green"):m.a.value("$grey")}))),c.a.createElement(j.a,null,c.a.createElement(Yr.a,{onPress:function(){return o(!r)},style:Mo.elements},c.a.createElement(j.a,{accessible:!0,style:Mo.addControl},c.a.createElement(I.a,{name:"md-add",size:m.a.value("1rem"),color:m.a.value("$white")})))),c.a.createElement(j.a,null),c.a.createElement(j.a,null,c.a.createElement(Yr.a,{onPress:function(){return t.push("/help")},component:Yr.a,style:Mo.elements},c.a.createElement(I.a,{name:"md-help",size:m.a.value("1.5rem"),color:"/help"===e.pathname?m.a.value("$green"):m.a.value("$grey")})))),c.a.createElement(j.a,{style:Mo.popupPositionner},r&&c.a.createElement(j.a,{style:[Mo.popup,{left:m.a.value("2.5rem")}]},c.a.createElement(j.a,{pose:"active",initialPose:"inactive",style:Mo.popupInner},c.a.createElement(Yr.a,{onPressIn:function(){return t.push("/contact")},style:Mo.popupLink},c.a.createElement(ha.a,{style:Mo.link},Sa("contactSafeBuildings"))),c.a.createElement(Yr.a,{onPressIn:function(){return t.push("/terms-and-conditions")},style:Mo.popupLink},c.a.createElement(ha.a,{style:Mo.link},Sa("Terms and Conditions"))),c.a.createElement(Yr.a,{onPressIn:function(){return t.push("/my-account")},style:Mo.popupLink},c.a.createElement(ha.a,{style:Mo.link},Sa("My account"))),c.a.createElement(Mr,{small:!0}),c.a.createElement(Yr.a,{style:[Mo.popupLink,Mo.logout],onPressIn:At.logout},c.a.createElement(I.a,{name:"md-log-out",size:m.a.value("1rem"),color:m.a.value("$grey"),style:Mo.logoutIcon}),c.a.createElement(ha.a,{style:[Mo.link,Mo.linkLogout]},Sa("Logout"))),c.a.createElement(j.a,{style:Mo.popupPointerContainer},c.a.createElement(j.a,{style:Mo.popupPointer}))))))},Uo=m.a.create({heading:{paddingTop:"2rem",paddingHorizontal:"1rem"},content:{paddingTop:"2rem",paddingHorizontal:"1rem",marginBottom:"4rem"}});var zo=function(){return c.a.createElement(na.a,{behavior:"padding",enabled:!0},c.a.createElement(ga.c,null,c.a.createElement(j.a,{style:Uo.heading},c.a.createElement(Va,{title:"Contact us"}),c.a.createElement(Co,{color:m.a.value("$peach"),icon:"ios-send"}),c.a.createElement(Or,null,"Or call us"),c.a.createElement(Xr,{onPress:function(){return Lr.a.openURL("tel:289-434-5510")}},"289-434-5510")),c.a.createElement(j.a,{style:Uo.content},c.a.createElement(Tr,{inApp:!0}))))},_o=m.a.create({heading:{paddingTop:"2rem",paddingHorizontal:"1rem"},content:{padding:"1rem"},scrollInner:{flexGrow:1,paddingBottom:"4rem"}}),Ho="containers/MyAccount/SUBMIT_PASSWORD",Yo="containers/MyAccount/SUBMIT_PASSWORD_FAIL",Go={newPassword:"",password:"",confirmNewPassword:"",userChanged:!1,loading:!1,error:{password:{current:!1,match:!1,server:!1,security:!1}},sent:!1},Vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Go,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case"containers/MyAccount/CHANGE_INPUT":e[t.name]=t.value,e.error.password.current=!1,e.error.password.match=!1,e.error.password.server=!1,e.error.password.security=!1,e.sent=!1;break;case"containers/MyAccount/SUBMIT_PASSWORD_INCORRECT_PASSWORD":e.error.password.current=!0;break;case"containers/MyAccount/SUBMIT_PASSWORD_NO_MATCH":e.error.password.match=!0;break;case"containers/MyAccount/SUBMIT_PASSWORD_SECURITY":e.error.password.security=!0;break;case Ho:e.loading=!0;break;case Yo:e.loading=!1,e.error.password.server=!0;break;case"containers/MyAccount/SUBMIT_PASSWORD_SUCCESS":e.loading=!1,e.sent=!0,e.password="",e.confirmNewPassword="",e.newPassword="";break;case"containers/MyAccount/RESET":Object.keys(Go).forEach((function(t){e[t]=Go[t]}))}}))},qo=function(e){return e.myaccount||Go},Wo=function(){return Object(oa.a)(qo,(function(e){return e}))};var Jo=r.a.mark(Ko),Qo=r.a.mark(Zo);function Ko(e){var t,n,a,o,i,s,c,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.password,n=e.newPassword,a=e.confirmNewPassword,r.next=3,Object(te.a)(At.getCreds);case 3:if(o=r.sent,i=new RegExp("^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])"),t===o.password){r.next=10;break}return r.next=8,Object(te.d)({type:"containers/MyAccount/SUBMIT_PASSWORD_INCORRECT_PASSWORD"});case 8:r.next=37;break;case 10:if(i.test(n)){r.next=15;break}return r.next=13,Object(te.d)({type:"containers/MyAccount/SUBMIT_PASSWORD_SECURITY"});case 13:r.next=37;break;case 15:if(n===a){r.next=20;break}return r.next=18,Object(te.d)({type:"containers/MyAccount/SUBMIT_PASSWORD_NO_MATCH"});case 18:r.next=37;break;case 20:return s=xt()+"/action/updatePerson",c={url:s,method:"POST",params:{currentPassword:t,password:n,ajax:!0}},r.prev=22,r.next=25,Object(te.a)(Dt,c);case 25:return l={creds:o.username,password:n},r.next=28,Object(te.a)(At.setCreds,l);case 28:return r.next=30,Object(te.d)({type:"containers/MyAccount/SUBMIT_PASSWORD_SUCCESS"});case 30:r.next=37;break;case 32:return r.prev=32,r.t0=r.catch(22),L.captureEvent(r.t0),r.next=37,Object(te.d)((u=r.t0,{type:Yo,err:u}));case 37:case"end":return r.stop()}var u}),Jo,null,[[22,32]])}function Zo(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(Ho,Ko);case 2:case"end":return e.stop()}}),Qo)}var Xo=[{name:"United States",abbreviation:"USA",states:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}]},{name:"Canada",abbreviation:"CAN",states:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Nunavut",abbreviation:"NU"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Yukon Territory",abbreviation:"YT"}]}],ei=n(216),ti=function(e){var t=e.options,n=void 0===t?[]:t,a=e.selected,r=void 0===a?"":a,o=e.onChange,i=e.prompt,s=e.placeholder;return c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(ha.a,{style:Ka.placeholder},s),c.a.createElement(j.a,{style:Ka.container},c.a.createElement(ei.a,{selectedValue:r,style:Ka.picker,prompt:i,onValueChange:function(e){return o(e)}},n.map((function(e){return c.a.createElement(ei.a.Item,{key:""+e.key,label:e.label,value:e.value})})))))};var ni=Object(oa.b)({myAccount:Wo(),user:vr(),userLoading:Object(oa.a)(yr,(function(e){return e.loading}))});var ai=Object(u.c)(ni,(function(e){return{handleChangeInput:function(t,n){return e(function(e,t){return{type:"containers/MyAccount/CHANGE_INPUT",value:e,name:t}}(t,n))},handleUnmount:function(){return e({type:"containers/MyAccount/RESET"})},handleSubmitPassword:function(t,n,a){return e(function(e,t,n){return{type:Ho,password:e,newPassword:t,confirmNewPassword:n}}(t,n,a))},handleResetUser:function(){return e({type:"containers/UserProvider/RESTORE_USER"})},handleSubmitUser:function(t){return e(function(e){var t=Bt({},e,{firstName:de.a.decode(e.firstName),lastName:de.a.decode(e.lastName),email:de.a.decode(e.email),phone:de.a.decode(e.phone),address:de.a.decode(e.address),city:de.a.decode(e.city),postalCode:de.a.decode(e.postalCode)});return{type:ze,user:t}}(t))},handleChangeInputUser:function(t,n){return e(function(e,t){return{type:Ge,value:e,name:t}}(t,n))}}})),ri=Object(ge.d)(s.memo,ai)((function(e){var t=e.myAccount,n=e.user,a=e.handleChangeInput,r=e.handleUnmount,o=e.handleSubmitPassword,i=e.handleSubmitUser,l=e.handleResetUser,u=e.handleChangeInputUser,d=e.userLoading;Ea({key:"myaccount",reducer:Vo}),ee({key:"myaccount",saga:Zo});var p=n.address,f=n.city,b=n.country,h=n.email,g=n.firstName,y=n.lastName,v=n.phone,E=n.postalCode,O=n.province,w=n.lastUpdated;Object(s.useEffect)((function(){return function(){r()}}),[]),Object(s.useEffect)((function(){t.error.password.match?ar.alert(Sa("newPasswordNoMatchTitle"),Sa("newPasswordNoMatchMessage")):t.error.password.current?ar.alert(Sa("currentNewPasswordNoMatchTitle"),Sa("currentNewPasswordNoMatchMessage")):t.error.password.server?ar.alert(Sa("newPasswordServerErrorTitle"),Sa("newPasswordServerErrorMessage")):t.error.password.security&&ar.alert(Sa("newPasswordSecurityErrorTitle"),Sa("newPasswordSecurityErrorMessage"))}),[t.error]),Object(s.useEffect)((function(){t.sent&&ar.alert(Sa("newPasswordSetTitle"),Sa("newPasswordSetMessage"),[{text:"OK",onPress:function(){return r()}}],{cancelable:!1})}),[t.sent]),Object(s.useEffect)((function(){le()(w).isBetween(le()().subtract(1,"s"),le()().add(1,"s"))&&ar.alert(Sa("myAccountUserUpdatedTitle"),Sa("myAccountUserUpdatedMessage"))}),[w]);var S=[{value:"none",label:Sa("No selection")}],x=[{value:"none",label:Sa("No selection")}],C=b||"none";return Object.keys(Xo).forEach((function(e){var t=Xo[e],n=t.name,a=t.states,r=t.abbreviation;S.push({value:r,label:n,key:r}),C!==r&&"none"!==C||a.forEach((function(e){x.push({value:e.abbreviation,label:e.name,key:e.abbreviation})}))})),c.a.createElement(na.a,{behavior:"padding"},c.a.createElement(ga.c,{contentContainerStyle:_o.scrollInner},c.a.createElement(j.a,{style:_o.heading},c.a.createElement(Va,{title:Sa("My account")}),c.a.createElement(Co,{icon:"user",title:"View and edit your personal information.",color:m.a.value("grey"),iconType:"Feather"})),c.a.createElement(j.a,{style:_o.content},c.a.createElement(Za,{placeholder:Sa("Last name"),value:y,onChangeText:function(e){return u(e,"lastName")}}),c.a.createElement(Za,{placeholder:Sa("First name"),value:g,onChangeText:function(e){return u(e,"firstName")}}),c.a.createElement(Za,{placeholder:Sa("Email address"),value:h,onChangeText:function(e){return u(e,"email")}}),c.a.createElement(Za,{placeholder:Sa("Phone"),value:v,onChangeText:function(e){return u(e,"phone")},autoCompleteType:"tel",keyboardType:"phone-pad",textContentType:"telephoneNumber",onBlur:function(){RegExp(/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/g).test(v)||(ar.alert(Sa("'"+v+"' is not a phone number"),Sa("Please enter a valid phone number (xxx-xxx-xxxx)")),u("","phone"))}}),c.a.createElement(Za,{placeholder:Sa("Address"),value:p,onChangeText:function(e){return u(e,"address")}}),c.a.createElement(Za,{placeholder:Sa("City"),value:f,onChangeText:function(e){return u(e,"city")}}),c.a.createElement(ti,{placeholder:Sa("State/Province"),options:x,selected:O||"none",onChange:function(e){return u(e,"province")}}),c.a.createElement(Za,{placeholder:Sa("Zip code/Postal code"),value:E,onChangeText:function(e){return u(e,"postalCode")}}),c.a.createElement(ti,{placeholder:Sa("Country"),options:S,selected:b||"none",onChange:function(e){return u(e,"country")}}),c.a.createElement(tr,{title:Sa("Save"),onPress:function(){return i(n)},loading:d}),c.a.createElement(tr,{theme:"alt",title:Sa("Cancel"),onPress:l})),c.a.createElement(Mr,null),c.a.createElement(j.a,{style:_o.content},c.a.createElement(Or,{title:Sa("Modify your password")}),c.a.createElement(Xr,null,Sa("modifyPasswordHint")),c.a.createElement(Za,{placeholder:Sa("Current password"),value:t.password,onChangeText:function(e){return a(e,"password")},textContentType:"password",secureTextEntry:!0,autoCompleteType:"password",autoCapitalize:"none"}),c.a.createElement(Za,{placeholder:Sa("New password"),value:t.newPassword,onChangeText:function(e){return a(e,"newPassword")},textContentType:"password",secureTextEntry:!0,autoCompleteType:"password",autoCapitalize:"none"}),c.a.createElement(Za,{placeholder:Sa("Confirm new password"),value:t.confirmNewPassword,onChangeText:function(e){return a(e,"confirmNewPassword")},textContentType:"password",secureTextEntry:!0,autoCompleteType:"password",autoCapitalize:"none"}),c.a.createElement(tr,{title:Sa("Save"),onPress:function(){return o(t.password,t.newPassword,t.confirmNewPassword)}}))))})),oi=m.a.create({container:{paddingVertical:"2rem",paddingHorizontal:"1rem"},boxInfos:{marginTop:"1rem",marginBottom:"2rem",flexDirection:"row",justifyContent:"flex-start",flexWrap:"web"===Et.a.OS?"wrap":"nowrap"},boxInfo:{paddingRight:".5rem"},image:{width:"100% - 2rem",aspectRatio:1,borderRadius:"ios"===Et.a.OS?"$borderRadius":0},imageContainer:{overflow:"ios"===Et.a.OS?"visible":"hidden",backgroundColor:"$grey",borderRadius:"$borderRadius",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginBottom:"2rem",alignItems:"center",justifyContent:"center"},scrollInner:{flexGrow:1},imageWeb:{width:"100% - 2rem",height:"60vh"}}),ii=n(1032),si=m.a.create({container:{borderRadius:"$borderRadius",borderWidth:1,borderColor:"$blueLight",padding:".5rem",backgroundColor:function(){return So()(m.a.value("$blueLight")).alpha(.05)},width:"web"===Et.a.OS?"10rem":100/3+"% - 1rem",aspectRatio:1,alignItems:"flex-start",justifyContent:"flex-end",marginBottom:"web"===Et.a.OS?".5rem":0},icon:{fontSize:"2rem",color:"$blueLight",height:"2rem",marginBottom:".5rem"},text:{fontSize:".5rem",fontFamily:"$fontBold",color:"$blueLight"}});var ci=function(e){var t=e.icon,n=e.children,a=e.title,r=e.type,o=e.to,i=Object(C.g)();return c.a.createElement(ga.b,{onPress:function(){return i.push(o)}},c.a.createElement(j.a,{accessible:!0,style:si.container},function(){switch(r){case"Entypo":return c.a.createElement(ii.a,{style:si.icon,name:t});case"Feather":return c.a.createElement(Oo.a,{style:si.icon,name:t});default:return c.a.createElement(I.a,{style:si.icon,name:t})}}(),c.a.createElement(ha.a,{style:si.text},n||a)))};var li=function(e){var t=e;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\xE0/g,"\xe0")).replace(/\\xE2/g,"\xe2")).replace(/\\xE3/g,"\xe3")).replace(/\\xE4/g,"\xe4")).replace(/\\xE5/g,"\xe5")).replace(/\\xE7/g,"\xe7")).replace(/\\xE9/g,"\xe9")).replace(/\\xE8/g,"\xe8")).replace(/\\xEA/g,"\xea")).replace(/\\xEB/g,"\xeb")).replace(/\\xEE/g,"\xee")).replace(/\\xEF/g,"\xef")).replace(/\\xF1/g,"\xf1")).replace(/\\xF2/g,"\xf2")).replace(/\\xF3/g,"\xf3")).replace(/\\xF4/g,"\xf4")).replace(/\\xF6/g,"\xf6")).replace(/\\xF9/g,"\xf9")).replace(/\\xFB/g,"\xfb")).replace(/\\xC0/g,"\xc0")).replace(/\\xC2/g,"\xc2")).replace(/\\xC7/g,"\xc7")).replace(/\\xC8/g,"\xc8")).replace(/\\xC9/g,"\xc9")).replace(/\\xCA/g,"\xca")).replace(/\\xCB/g,"\xcb")).replace(/\\xCE/g,"\xce")).replace(/\\xCF/g,"\xcf")).replace(/\\xD1/g,"\xd1")).replace(/\\xD4/g,"\xd4")).replace(/\\xD9/g,"\xd9")).replace(/\\xDB/g,"\xdb")},ui=function(e){return e.buttons||Me},di=function(){return Object(oa.a)(ui,(function(e){return e.buttons}))},pi=m.a.create({shadow:{borderRadius:"$borderRadius",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},container:{borderRadius:"$borderRadius",backgroundColor:"$white",paddingHorizontal:"1rem",paddingVertical:".75rem",borderLeftWidth:8,borderLeftColor:"$green"},text:{fontFamily:"$fontBold",fontSize:".8rem",color:"$text"},link:{marginBottom:"1rem",borderRadius:"$borderRadius"}}),mi={PARENT:0,FIELD:1,CHECKLIST:2,DOCUMENT:3};var fi=function(e){var t=e.children,n=e.content,a=e.onPress,r=e.locationId,o=e.buttonId,i=e.type,s=Object(C.g)();return c.a.createElement(N.a,{onPress:function(){a&&a(),s.push(function(){switch(Number(i)){case mi.DOCUMENT:return"/location/"+r+"/document/"+o;case mi.CHECKLIST:return"/location/"+r+"/button/"+o+"/checklist";case mi.FIELD:return"/location/"+r+"/button/"+o+"/field";default:return"/location/"+r+"/button/"+o}}())},style:pi.link},c.a.createElement(j.a,{style:pi.shadow},c.a.createElement(j.a,{style:pi.container},c.a.createElement(ha.a,{style:pi.text},t||n))))};var bi=function(e){var t=e.progressiveRenderingEnabled,n=e.style,a=e.resizeMode,o=e.source,l=Object(s.useState)(null),u=i()(l,2),d=u[0],p=u[1],f=Object(s.useState)(!0),b=i()(f,2),h=b[0],g=b[1];return Object(s.useEffect)((function(){!function(){var e,t;r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(ae.a.get(o.uri,{responseType:"blob"}));case 3:e=n.sent,(t=new window.FileReader).readAsDataURL(e.data),t.onload=function(){p(t.result)},g(!1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),L.captureException(n.t0);case 13:case"end":return n.stop()}}),null,null,[[0,10]])}()}),[o]),h?c.a.createElement(Xa.a,{size:"small",color:m.a.value("$blue"),style:{padding:m.a.value("2rem")}}):c.a.createElement(k.a,{progressiveRenderingEnabled:t,style:n,resizeMode:a,source:{uri:d}})};var hi=Object(oa.b)({locations:go(),buttons:di()});var gi=Object(u.c)(hi,(function(e){return{dispatch:e,handleLoadButtons:function(t){return e(tn(t))}}})),yi=Object(ge.d)(gi,s.memo)((function(e){var t=e.locations,n=e.buttons,a=e.handleLoadButtons,r=Object(C.h)(),o=Object(C.i)().locationId,i=t.find((function(e){return e.id===o})),l=JSON.parse(i.field3),u=JSON.parse(li(i.field11||"[]")),d=JSON.parse(i.field14),p=l?l.information:[],m=!(null===u||0===u.length),f=!(null===d||0===d.length),b=H.a.findIndex(n,(function(e){var t=e.field15,n=e.field2;return t===i.id&&"COMPLIANCE"===n.toUpperCase()})),h=[];return n.forEach((function(e){var t=!!(null===e||void 0===e?void 0:e.field8)&&n.find((function(t){return Number(t.id)===Number(e.field8)}));e.field15!==o||t||h.push(e)})),h.sort((function(e,t){return Number(e.field14)-Number(t.field14)})),Object(s.useEffect)((function(){a(i),L.addBreadcrumb({category:"Location",message:(null===i||void 0===i?void 0:i.field2)||(null===i||void 0===i?void 0:i.id),level:L.Severity.Info})}),[o]),c.a.createElement(aa.a,{contentContainerStyle:oi.scrollInner},c.a.createElement(j.a,{style:oi.container},c.a.createElement(Va,{title:(null===i||void 0===i?void 0:i.field2)||(null===i||void 0===i?void 0:i.id)}),c.a.createElement(j.a,{pose:"enter",initialPose:"exit",style:oi.boxInfos},m&&c.a.createElement(j.a,{style:oi.boxInfo},c.a.createElement(ci,{to:r.pathname+"/contact",type:"Feather",icon:"users",title:Sa("Contact")})),f&&c.a.createElement(j.a,{initialPose:"exit",pose:"enter",style:oi.boxInfo},c.a.createElement(ci,{to:r.pathname+"/infrastructure",type:"Entypo",icon:"info",title:Sa("Infrastructure")})),-1!==b&&c.a.createElement(j.a,{initialPose:"exit",pose:"enter",style:oi.boxInfo},c.a.createElement(ci,{to:r.pathname+"/button/"+n[b].id,type:"Feather",icon:"check-square",title:Sa("Compliance")}))),p.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.title},c.a.createElement(Or,{title:e.type||""}),c.a.createElement($r,{html:e.description}))})),"string"===typeof(null===i||void 0===i?void 0:i.field20)&&""!==(null===i||void 0===i?void 0:i.field20)&&c.a.createElement(j.a,{style:oi.imageContainer},c.a.createElement(bi,{progressiveRenderingEnabled:!0,style:oi.imageWeb,resizeMode:"contain",source:{uri:xt()+"/action/getSecureFiles?id="+i.field20}})),h.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Or,{title:"Buttons"}),h.map((function(e){return c.a.createElement(fi,{key:e.id,content:li(e.field2),locationId:o,type:e.field6,buttonId:e.id})})))))})),vi=m.a.create({container:{paddingTop:"2rem",paddingHorizontal:"1rem"},subTitle:{flexDirection:"row",marginBottom:".25rem"},subTitleText:{color:"$text",fontSize:".8rem",fontFamily:"$fontRegular",paddingRight:"1rem"},subTitleHtml:{paddingRight:"1rem"},subTitleIcon:{color:"$blue",fontSize:"1rem",marginRight:".5rem"}});var Ei=function(e){var t=e.title,n=e.children,a=e.icon,r=e.context;return c.a.createElement(j.a,{style:vi.container},c.a.createElement(j.a,{style:vi.subTitle},c.a.createElement(I.a,{style:vi.subTitleIcon,name:a}),r?c.a.createElement(j.a,{style:vi.subTitleHtml},c.a.createElement($r,{html:r||"",noMargin:!0})):c.a.createElement(ha.a,{style:vi.subTitleText},r)),c.a.createElement(Va,{title:t||n}))},Oi=m.a.create({container:{paddingHorizontal:"1rem"},text:{color:"$text",fontFamily:"$fontRegular",paddingLeft:"2rem",marginBottom:".2rem"},separator:{paddingLeft:"2rem",marginBottom:".2rem"},link:{color:"$blue",fontFamily:"$fontBold"}});var wi=function(e){var t=e.contact;return c.a.createElement(j.a,{style:Oi.container},c.a.createElement(Or,{title:t.firstName+" "+t.lastName}),!!t.company&&c.a.createElement(ha.a,{style:Oi.text},t.company),!!t.roleText&&c.a.createElement(ha.a,{style:Oi.text},t.roleText),!!t.phone&&c.a.createElement(ga.d,{onPress:function(){return Lr.a.openURL("tel:"+t.phone)}},c.a.createElement(ha.a,{style:[Oi.text,Oi.link]},t.phone)),!!t.email&&c.a.createElement(ga.d,{onPress:function(){return Lr.a.openURL("mailto:"+t.email)}},c.a.createElement(ha.a,{style:[Oi.text,Oi.link]},t.email)),c.a.createElement(j.a,{style:Oi.separator},c.a.createElement(Mr,null)))},Si=m.a.create({fabIcon:{fontSize:"2rem",color:"$white"},background:{position:"absolute",backgroundColor:function(){return So()(m.a.value("$white")).alpha(.95)},height:"100%",width:"100%",left:0,top:0},listSafe:{flex:1,marginTop:"1.5rem"},list:{alignItems:"stretch",justifyContent:"flex-end",paddingLeft:"1rem",paddingRight:"5rem",paddingTop:"4rem",overflow:"visible",paddingBottom:function(){return"ios"===Et.a.OS?m.a.value("2rem"):m.a.value("3rem")}}}),xi=m.a.create({addButton:{borderRadius:50,alignItems:"stretch",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7,aspectRatio:1},addButtonActive:{borderBottomLeftRadius:0,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.18,shadowRadius:1,elevation:1},fabBox:{position:"absolute",bottom:17,right:17,aspectRatio:1,alignItems:"center",justifyContent:"center",borderRadius:50},fabBoxActive:{borderBottomLeftRadius:0},addButtonInnerView:{flex:1,borderRadius:50,alignItems:"center",justifyContent:"center"},addButtonInnerViewActive:{flex:1,borderBottomLeftRadius:0}}),Ci=Si;var Ti=function(e){var t=e.onPress,n=e.backgroundColor,a=e.iconComponent,r=e.children,o=e.isOpen,i=e.offset,s=void 0===i?20:i,l=e.size,u=void 0===l?m.a.value("3rem"):l,d=e.animate;return c.a.createElement(j.a,{style:[xi.fabBox,o&&xi.fabBoxActive,{bottom:s+m.a.value("ios"===Et.a.OS?"2rem":"4rem"),width:u}]},c.a.createElement(j.a,{pose:"enter",initialPose:d?"exit":"enter",style:[xi.addButton,o&&xi.addButtonActive,{height:u,width:u}]},c.a.createElement(Yr.a,{style:[xi.addButtonInnerView,o&&xi.addButtonInnerViewActive,{backgroundColor:n}],onPress:t},c.a.createElement(j.a,null,a||r))))};var ji=Object(oa.b)({buttons:di()}),Ii=Object(u.c)(ji),ki=Object(ge.d)(Ii,s.memo)((function(e){var t=e.animate,n=e.buttons,a=e.locationId,r=Object(s.useState)(!1),o=i()(r,2),l=o[0],u=o[1],d=Object(s.createRef)(),p=[];return n.forEach((function(e){e.field8||e.field15!==a||p.push(e)})),p.sort((function(e,t){return Number(e.field14)-Number(t.field14)})),Object(s.useEffect)((function(){l&&d.current.scrollToEnd()}),[l]),c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(j.a,{intensity:90,tint:"light",initialPose:"exit",pose:"enter",style:Ci.background},c.a.createElement(ra.a,{style:Ci.listSafe},c.a.createElement(j.a,{style:Ci.listSafe},c.a.createElement(aa.a,{initialPose:"exit",pose:"enter",style:Ci.listSafe,contentContainerStyle:Ci.list,ref:d},p.map((function(e){var t=e.field2,n=e.id,r=e.field6;return c.a.createElement(j.a,{key:n},c.a.createElement(fi,{onPress:function(){return u(!1)},content:li(t),locationId:a,type:r,buttonId:n}))})))))),c.a.createElement(Ti,{onPress:function(){return u(!l)},isOpen:l,backgroundColor:l?m.a.value("$grey"):m.a.value("$green"),size:m.a.value("3rem"),offset:"ios"===Et.a.OS?40:0,animate:t,iconComponent:c.a.createElement(I.a,{color:m.a.value("$white"),style:Ci.fabIcon,name:l?"md-close":"ios-list"})}))})),Ni=m.a.create({scrollInner:{flexGrow:1}});function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ri=Object(oa.b)({locations:go()}),Ai=Object(u.c)(Ri),Fi=Object(ge.d)(Ai,s.memo)((function(e){var t=e.locations,n=Object(C.i)().locationId,a=t.find((function(e){return e.id===n})),r=a.field4,o=a.field5,i=a.field6,s=a.field7,l=a.field8,u=a.field9,d=a.field11,p=r+" "+o+", "+i+", "+s+" "+l+", "+u,m=d?JSON.parse(li(d)):[],f=[];return m.forEach((function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{key:""+t+e.firstName});f.push(n)})),c.a.createElement(ga.c,{contentContainerStyle:Ni.scrollInner},c.a.createElement(Ei,{title:Sa("Contact"),context:p,icon:"md-pin"}),f.map((function(e){return c.a.createElement(wi,{contact:e,key:e.key})})),c.a.createElement(b.a,{name:"fab"},c.a.createElement(ki,{animate:!0,locationId:n})))})),Di=m.a.create({content:{paddingVertical:"1rem",paddingHorizontal:"1rem"},scrollInner:{flexGrow:1}});function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Bi=Object(oa.b)({locations:go()}),Mi=Object(u.c)(Bi),$i=Object(ge.d)(Mi,s.memo)((function(e){var t=e.locations,n=Object(C.i)().locationId,a=t.find((function(e){return e.id===n})),r=a.field4,o=a.field5,i=a.field6,s=a.field7,l=a.field8,u=a.field9,d=a.field14,p=r+" "+o+", "+i+", "+s+" "+l+", "+u,m=JSON.parse(d),f=[];return m.forEach((function(e,t){f.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{key:""+t+e.title}))})),c.a.createElement(aa.a,{contentContainerStyle:Di.scrollInner},c.a.createElement(Ei,{title:Sa("Infrastructure"),context:p,icon:"md-pin"}),c.a.createElement(j.a,{style:Di.content},f.map((function(e){var t=e.type,n=e.key,a=e.description;return c.a.createElement(c.a.Fragment,{key:n},c.a.createElement(Or,{title:t}),c.a.createElement($r,{html:a}))}))),c.a.createElement(b.a,{name:"fab"},c.a.createElement(ki,{animate:!0,locationId:n})))})),Ui=m.a.create({scrollInner:{flexGrow:1}});var zi=Object(oa.b)({buttons:di()}),_i=Object(u.c)(zi),Hi=Object(ge.d)(_i,s.memo)((function(e){var t=e.buttons,n=Object(C.i)(),a=n.locationId,r=n.buttonId,o=t.find((function(e){return e.id===r})),i=[];return t.forEach((function(e){e.field8===r&&i.push(e)})),i.sort((function(e,t){return Number(e.field14)-Number(t.field14)})),Object(s.useEffect)((function(){L.addBreadcrumb({category:"Button",message:o.field2,level:L.Severity.Info})}),[r]),c.a.createElement(ga.c,{contentContainerStyle:Ui.scrollInner},c.a.createElement(Ei,{title:o.field2,icon:"md-pin",context:o.field3}),c.a.createElement(Eo,{flex:!0},c.a.createElement(j.a,{pose:"enter",initialPose:"exit"},i.map((function(e){var t=e.field2,n=e.id,r=e.field6;return c.a.createElement(j.a,{key:n},c.a.createElement(fi,{content:t,locationId:a,type:r,buttonId:n}))})))),c.a.createElement(b.a,{name:"fab"},c.a.createElement(ki,{animate:!0,buttons:t,locationId:a})))})),Yi=m.a.create({scrollInner:{flexGrow:1}});var Gi=Object(oa.b)({buttons:di()}),Vi=Object(u.c)(Gi),qi=Object(ge.d)(Vi,s.memo)((function(e){var t=e.buttons,n=Object(C.i)(),a=n.locationId,r=n.buttonId,o=t.find((function(e){return e.id===r})),i=JSON.parse(o.field7),l=i?i.fields:[];return Object(s.useEffect)((function(){L.addBreadcrumb({category:"Button",message:o.field2,level:L.Severity.Info})}),[r]),c.a.createElement(ga.c,{contentContainerStyle:Yi.scrollInner},c.a.createElement(Ei,{title:o.field2,icon:"md-pin",context:o.field3}),c.a.createElement(Eo,{flex:!0},l.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.name},c.a.createElement(Or,{title:e.name}),c.a.createElement($r,{html:e.text}))}))),c.a.createElement(b.a,{name:"fab"},c.a.createElement(ki,{animate:!0,buttons:t,locationId:a})))})),Wi=m.a.create({scrollInner:{flexGrow:1}});var Ji=function(){var e=Object(C.i)().locationId;return c.a.createElement(ga.c,{contentContainerStyle:Wi.scrollInner},c.a.createElement(Ei,{title:"Emergency Power",icon:"md-pin",context:"Critical infrastructure"}),c.a.createElement(Eo,{flex:!0},c.a.createElement(Or,{title:"Lorem ipsum dolor sit amet"}),c.a.createElement(j.a,{pose:"enter",initialPose:"exit"},c.a.createElement(j.a,null,c.a.createElement(jo,{to:"/location/"+e+"/document/1",color:m.a.value("$text"),title:"Internal Code Book",icon:"file-text",iconType:"Feather"})),c.a.createElement(j.a,null,c.a.createElement(jo,{to:"/location/"+e+"/document/1",color:m.a.value("$text"),title:"Campus plan, large overview",icon:"file-text",iconType:"Feather"})),c.a.createElement(j.a,null,c.a.createElement(jo,{to:"/location/"+e+"/document/1",color:m.a.value("$text"),title:"Document about the elevators",icon:"file-text",iconType:"Feather"})))))},Qi=m.a.create({list:{marginBottom:"2rem"},scrollInner:{flexGrow:1}}),Ki=m.a.create({container:{alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingVertical:".75rem"},iconLeft:{fontSize:"1rem",color:"$grey",marginRight:"1rem"},title:{fontSize:".8rem",color:"$text",fontFamily:"$fontMedium",textAlign:"left",flex:1},iconRight:{fontSize:"1rem",color:"$grey",marginLeft:"1rem"}}),Zi={CREATE:1,READ:2,UPDATE:3,VIEW:4};var Xi=function(e){var t=e.response,n=Object(C.g)(),a=Object(C.i)().locationId;return c.a.createElement(ga.b,{style:Ki.container,onPress:function(){return n.push({pathname:"/location/"+a+"/checklist/"+t.field2+"/"+t.id,state:{type:Zi.READ}})}},c.a.createElement(I.a,{style:Ki.iconLeft,name:"md-checkbox-outline"}),c.a.createElement(ha.a,{style:Ki.title},t.dateField1),c.a.createElement(I.a,{style:Ki.iconRight,name:"md-arrow-round-forward"}))},es=function(e){return e.checklists||it},ts=function(){return Object(oa.a)(es,(function(e){return e.checklists}))},ns=function(){return Object(oa.a)(es,(function(e){return e.responses}))},as=function(){return Object(oa.a)(es,(function(e){return e.inProgress}))};var rs=Object(oa.b)({locations:go(),buttons:di(),loading:Object(oa.a)(es,(function(e){return e.loading})),checklists:ts(),inProgress:as(),responses:ns(),loadingResponse:Object(oa.a)(es,(function(e){return e.loadingResponses}))});var os=Object(u.c)(rs,(function(e){return{handleLoadChecklist:function(t){return e(un(t))},handleDeleteCurrentInProgress:function(t){return e({type:"app/ButtonsProvider/DELETE_CURRENT_IN_PROGRESS",checklist:t})},handleResetLoading:function(){return e({type:Ke})},handleLoadButton:function(t){return e(tn(t))}}})),is=Object(ge.d)(os,s.memo)((function(e){var t,n=e.locations,a=e.buttons,r=e.handleLoadButton,o=e.handleLoadChecklist,i=e.loading,l=e.inProgress,u=e.checklists,d=e.responses,p=e.loadingResponse,f=e.handleDeleteCurrentInProgress,h=e.handleResetLoading,g=Object(C.i)(),y=g.locationId,v=g.buttonId,E=Object(C.g)(),O=n.find((function(e){return e.id===y})),w=a.find((function(e){return(null===e||void 0===e?void 0:e.id)===v})),S=null===w||void 0===w?void 0:w.field2,x=null===w||void 0===w?void 0:w.field3,T=null===w||void 0===w?void 0:w.field7,I=Number(T),k=u.find((function(e){return Number(e.id)===I})),N=!!l&&l.find((function(e){return Number(e.checklist)===I}));return Object(s.useEffect)((function(){r(O),o(I),L.addBreadcrumb({category:"Button",message:S||"",level:L.Severity.Info})}),[y,v]),Object(s.useEffect)((function(){var e;return JSON.parse(null==(e=null===k||void 0===k?void 0:k.field7)||e)||ar.alert(Sa("checklistNotActiveTitle"),Sa("checklistNotActiveMessage"),[{text:"OK",onPress:E.goBack}],{cancelable:!1}),i||k?clearTimeout(t):t=setTimeout((function(){i||k||ar.alert(Sa("buttonWithoutChecklistTitle"),Sa("buttonWithoutChecklistMessage"),[{text:"OK",onPress:E.goBack}],{cancelable:!1})}),2e3),function(){h(),clearTimeout(t)}}),[k]),c.a.createElement(ga.c,{contentContainerStyle:Qi.scrollInner},c.a.createElement(Ei,{title:S||"",context:x||"",icon:"md-pin"}),c.a.createElement(Eo,null,c.a.createElement(Or,{capitalize:!0,title:k?k.field11:""}),!k||i?c.a.createElement(Xa.a,{size:"small",color:m.a.value("$grey")}):N?c.a.createElement(c.a.Fragment,null,c.a.createElement(jo,{color:m.a.value("$blue"),title:Sa("Resume"),icon:"md-checkbox-outline",to:{pathname:"/location/"+y+"/checklist/"+I,state:{type:Zi.UPDATE}}}),c.a.createElement(jo,{color:m.a.value("$red"),title:Sa("Delete"),icon:"trash-2",iconType:"Feather",onPress:function(){return f(I)}})):c.a.createElement(jo,{color:m.a.value("$blue"),title:Sa("Start"),icon:"md-checkbox-outline",to:{pathname:"/location/"+y+"/checklist/"+I,state:{type:Zi.CREATE}}}),c.a.createElement(Mr,{blank:!0}),!(!k||i)&&c.a.createElement(jo,{color:m.a.value("$blueDark"),title:Sa("View Checklist"),icon:"list",iconType:"Feather",to:{pathname:"/location/"+y+"/checklist/"+I,state:{type:Zi.VIEW}}}),c.a.createElement(Or,{title:"Response"}),c.a.createElement(j.a,{style:Qi.list},p&&c.a.createElement(Xa.a,{size:"small",color:m.a.value("$grey")}),!p&&!d.find((function(e){return e.field2===(null===k||void 0===k?void 0:k.id)}))&&c.a.createElement(Xr,null,"There is no response for this checklist yet."),De()(d).reverse().map((function(e){return e.field2===(null===k||void 0===k?void 0:k.id)?c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(Xi,{response:e}),c.a.createElement(Mr,{flat:!0})):null})))),c.a.createElement(b.a,{name:"fab"},c.a.createElement(ki,{locationId:y})))})),ss=m.a.create({card:{borderRadius:"$borderRadius / 2",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,backgroundColor:"$white",padding:"1rem - 2px",marginBottom:"1rem",marginHorizontal:"1rem",borderWidth:2,borderColor:"transparent"},cardCurrent:{borderWidth:2,borderColor:"$blue"},cardUrgent:{borderWidth:2,borderColor:"$red"},cardHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},title:{fontFamily:"$fontBold",color:"$text",fontSize:".8rem"},subTitle:{fontFamily:"$fontMedium",color:"$text",marginBottom:"1rem",fontSize:".8rem",lineHeight:"1.2rem"},viewPicture:{paddingVertical:".5rem",flexDirection:"row",alignItems:"center",marginBottom:".5rem"},viewPictureIcon:{color:"$blue",fontSize:"1.2rem",marginRight:".5rem"},viewPictureText:{fontFamily:"$fontBold",color:"$blue",fontSize:".8rem"},urgentPill:{backgroundColor:"$red",height:"2rem",justifyContent:"flex-start",alignItems:"center",borderRadius:"1rem",marginBottom:"1rem",width:"50%",flexDirection:"row"},urgentIcon:{color:"$white",fontSize:"1.25rem",paddingLeft:"1rem",paddingRight:".5rem"},urgentText:{color:"$white",fontFamily:"$fontBold",fontSize:"1rem"}}),cs=m.a.create({modalContainer:{marginVertical:"1rem",backgroundColor:"$white",borderRadius:"$borderRadius",shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27,elevation:10},modalImageContainer:{width:"100%",aspectRatio:1,backgroundColor:"$greyLightest",borderTopLeftRadius:"$borderRadius",borderTopRightRadius:"$borderRadius",overflow:"hidden"},modalImage:{width:"100%",aspectRatio:1,backgroundColor:"$greyLightest"},modalImageWeb:{height:"75vh"},modalContent:{paddingHorizontal:"1rem",paddingVertical:"2rem"},modalCloseContainer:{justifyContent:"flex-end",alignItems:"flex-end",width:"100%",marginTop:"2rem",elevation:1,zIndex:1},modalClose:{elevation:1,zIndex:1},modalCloseIcon:{fontSize:"2rem",color:"$grey"}}),ls=m.a.create({modalContainer:{flex:1,justifyContent:"flex-end"},modal:{},controls:{marginBottom:"1rem",padding:".5rem",backgroundColor:"$greyLight",borderRadius:"$borderRadius",overflow:"hidden"},control:{position:"relative",borderRadius:"$borderRadius / 2",height:"3rem",alignItems:"center",justifyContent:"center",backgroundColor:"$greyLight"},controlText:{textAlign:"center",fontFamily:"$fontBold",color:"$white",fontSize:".8rem"},modalView:{marginVertical:"1rem",backgroundColor:"$white",borderRadius:"$borderRadius",shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27,elevation:10},imageContainer:{width:"100%",aspectRatio:1,backgroundColor:"$greyLightest",borderTopLeftRadius:"$borderRadius",borderTopRightRadius:"$borderRadius",overflow:"hidden"},image:{width:"100%",aspectRatio:1,backgroundColor:"$greyLightest"},imageWeb:{height:"75vh"},content:{paddingHorizontal:"2rem",paddingVertical:"2rem",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},roundControl:{alignItems:"center",justifyContent:"center"},bubble:{height:"3rem",width:"3rem",aspectRatio:1,borderRadius:"1.5rem",alignItems:"center",justifyContent:"center",marginBottom:".5rem"},bubbleReplace:{backgroundColor:"$blue"},bubbleInsert:{backgroundColor:"$green"},bubbleDelete:{backgroundColor:"$white",borderWidth:1,borderColor:"$red"},icon:{fontSize:"1.5rem",color:"$white"},iconDelete:{color:"$red"},roundControlText:{fontFamily:"$fontMedium",fontSize:".6rem",color:"$grey",textAlign:"center",maxWidth:"3rem"}}),us=ss,ds=m.a.create({section:{flexDirection:"row"},container:{height:"2rem",backgroundColor:"$greyLighter",width:"3rem",borderRadius:"1rem"},container2:{marginLeft:".5rem"},readContainer:{width:"3rem",height:"2rem",borderRadius:"1rem",alignItems:"center",justifyContent:"center",backgroundColor:"$greyLighter",borderWidth:2,borderColor:"$greyLighter",flexDirection:"row"},readContainerTruthy:{backgroundColor:"$green"},readContainerFalsy:{backgroundColor:"$red"},innerContainer:{position:"relative",borderRadius:"1rem",alignItems:"center",justifyContent:"center",flex:1},toggle:{height:"2rem - 4",borderRadius:"1rem",position:"absolute",top:2},toggleneutral:{},toggletruthy:{shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2},togglefalsy:{shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41,elevation:2},content:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",elevation:3,width:"100%"},text:{fontFamily:"$fontBold",fontSize:".8rem",color:"$text",flex:1,textAlign:"center"},textActive:{color:"$white"},separator:{height:"80%",width:1,backgroundColor:"$grey"}});var ps=function(e){var t=e.value,n=void 0===t?null:t,a=e.onPress,r=e.truthy,o=void 0===r?Sa("Yes"):r,i=e.falsy,s=void 0===i?Sa("No"):i,l=e.read,u=e.radio,d=function(){switch(n){case null:return"neutral";case!1:return"falsy";default:return"truthy"}};return l?"neutral"===d()?null:c.a.createElement(j.a,{pose:"enter",initialPose:"exit",style:[ds.readContainer,"truthy"===d()?ds.readContainerTruthy:ds.readContainerFalsy]},c.a.createElement(ha.a,{style:[ds.text,ds.textActive]},"truthy"===d()?o:s)):u?c.a.createElement(ga.a,{onPress:function(){return a("truthy"!==d()||null)},style:[ds.readContainer,"truthy"===d()&&ds.readContainerTruthy,"falsy"===d()&&ds.readContainerFalsy]},c.a.createElement(ha.a,{style:[ds.text,("falsy"===d()||"truthy"===d())&&ds.textActive]},o||s)):c.a.createElement(j.a,{style:ds.section},c.a.createElement(ga.a,{style:[ds.container,"truthy"===d()&&ds.readContainerTruthy],onPress:function(){return a("truthy"!==d()||null)}},c.a.createElement(j.a,{accessible:!0,style:ds.innerContainer},c.a.createElement(j.a,{style:ds.content},c.a.createElement(ha.a,{style:[ds.text,"truthy"===d()&&ds.textActive]},o)))),c.a.createElement(ga.a,{style:[ds.container,ds.container2,"falsy"===d()&&ds.readContainerFalsy],onPress:function(){return a("falsy"===d()&&null)}},c.a.createElement(j.a,{accessible:!0,style:ds.innerContainer},c.a.createElement(j.a,{style:ds.content},c.a.createElement(ha.a,{style:[ds.text,"falsy"===d()&&ds.textActive]},s)))))};var ms=function(e){var t=e.children,n=e.label,a=e.value,r=e.onValueChange;return c.a.createElement(j.a,{style:Qa.container},c.a.createElement(ga.b,{onPress:function(){return r(!a)}},c.a.createElement(j.a,{accessible:!0},c.a.createElement(ha.a,{style:Qa.label},(t||n)+":"))),c.a.createElement(ps,{value:a,onPress:r,truthy:Sa(a?"Yes":"No"),radio:!0}))},fs=n(618),bs=n(606),hs=n.n(bs).a;var gs=function(e){var t=e.isVisible,n=e.onHide,a=e.onChooseImage,o=e.image,i=e.relaunch;return c.a.createElement(c.a.Fragment,null,c.a.createElement(hs,{isVisible:t&&!o,backdropColor:m.a.value("$white"),backdropOpacity:.75,animationIn:"slideInUp",animationOut:"slideOutDown",onBackdropPress:n,onBackButtonPress:n,useNativeDriver:!0},c.a.createElement(j.a,{style:ls.modalContainer},c.a.createElement(j.a,{style:ls.modal},c.a.createElement(j.a,{style:ls.controls},c.a.createElement(N.a,{underlayColor:m.a.value("$grey"),onPress:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(fs.a({}));case 3:(e=t.sent).cancelled||(a(e),n()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),L.captureException(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},style:ls.control},c.a.createElement(ha.a,{style:ls.controlText},Sa("Choose in my library")))),c.a.createElement(N.a,{underlayColor:m.a.value("$grey"),onPress:n,style:ls.control},c.a.createElement(ha.a,{style:ls.controlText},Sa("Cancel")))))),c.a.createElement(hs,{backdropColor:m.a.value("$white"),backdropOpacity:.75,isVisible:t&&!!o&&!o.cancelled,onBackdropPress:n,onBackButtonPress:n,animationIn:"zoomIn",animationOut:"zoomOut",onSwipeComplete:n,useNativeDriver:!0,swipeDirection:["down","left","up","right"],onModalHide:function(){return t?i():null}},c.a.createElement(j.a,{style:ls.modalView},c.a.createElement(j.a,{style:ls.imageContainer},o&&c.a.createElement(k.a,{resizeMode:"contain",style:[ls.image,ls.imageWeb],source:{uri:o.uri}})),c.a.createElement(j.a,{style:ls.content},c.a.createElement(Yr.a,{onPress:function(){a(null)},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleReplace]},c.a.createElement(I.a,{style:ls.icon,name:"ios-image"})),c.a.createElement(ha.a,{style:ls.roundControlText},Sa("Replace"))),c.a.createElement(Yr.a,{onPress:n,style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleInsert]},c.a.createElement(I.a,{style:ls.icon,name:"md-checkmark"})),c.a.createElement(ha.a,{style:ls.roundControlText},Sa("Insert"))),c.a.createElement(Yr.a,{onPress:function(){n(),a(null)},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleDelete]},c.a.createElement(Oo.a,{style:[ls.icon,ls.iconDelete],name:"trash-2"})),c.a.createElement(ha.a,{style:ls.roundControlText},Sa("Delete")))))))};var ys=function(e){var t=e.isVisible,n=e.onHide,a=e.question,r=e.onChooseNfc,o=Object(s.useState)(""),l=i()(o,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){t||d("")}),[t]),c.a.createElement(hs,{isVisible:t,onBackdropPress:n,onBackButtonPress:n,animationIn:"zoomIn",animationOut:"zoomOut",onSwipeComplete:n,backdropColor:m.a.value("$white"),backdropOpacity:.75,useNativeDriver:!0,swipeDirection:["down","left","up","right"]},c.a.createElement(j.a,{style:cs.modalContainer},c.a.createElement(j.a,{style:cs.modalContent},c.a.createElement(Va,{title:"NFC Tag ("+a.NFCTitle+")"}),c.a.createElement(Xr,null,c.a.createElement(ha.a,null,"Test")),c.a.createElement(Za,{placeholder:"Enter NFC Tag ID",value:u,onChangeText:function(e){return d(e)},onSubmitEditing:function(){return r(u)}}),c.a.createElement(tr,{title:"Submit NFC Tag ID",onPress:function(){return r(u)}}))))};var vs=function(e){var t=e.nfc,n=e.setNfc,a=e.nfcTapped,r=e.deficiency,o=e.setDeficiency,l=e.deficiencyMessage,u=void 0===l?"":l,d=e.setDeficiencyMessage,p=e.toggly,m=e.setToggly,f=e.image,b=e.setImage,h=e.removeImage,g=e.text,y=e.setText,v=e.question,E=e.current,O=Object(s.useState)(!1),w=i()(O,2),S=w[0],x=w[1],C=Object(s.useState)(!1),T=i()(C,2),I=T[0],k=T[1];return Object(s.useEffect)((function(){"web"===Et.a.OS&&t&&k(!1)}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{style:[us.card,E&&us.cardCurrent]},c.a.createElement(j.a,{style:us.cardHeader},c.a.createElement(ha.a,{style:us.title},"Question "+(v.i+1)),("confirm"===v.responseType||"yes-no"===v.responseType)&&c.a.createElement(ps,{radio:"confirm"===v.responseType,value:p,onPress:m})),c.a.createElement(ha.a,{style:us.subTitle},v.name),c.a.createElement(Xr,null,v.description),"text"===v.responseType&&c.a.createElement(Er,{value:g,onChangeText:y,noShadow:!0}),v.pictureOption&&c.a.createElement(tr,{onPress:function(){return x(!0)},small:!0,theme:f?"success":"altLight",title:Sa(f?"View picture":"Take a picture")}),v.NFCValidation&&c.a.createElement(tr,{small:!0,theme:t?"success":"altLight",onPress:function(){"web"===Et.a.OS?k(!t):"ios"===Et.a.OS?a():t?ar.alert(Sa("explainNfcDoneTitle"),Sa("explainNfcDoneMessage")):ar.alert(Sa("explainNfcTitle"),Sa("explainNfcMessage"))},title:"NFC Tag ("+v.NFCTitle+")"}),c.a.createElement(ms,{value:r,onValueChange:function(){return o(!r||!r)},label:Sa("Urgent notification")}),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Or,{title:Sa("Explain")}),c.a.createElement(Er,{value:u,onChangeText:d,noShadow:!0}))),v.pictureOption&&c.a.createElement(gs,{isVisible:S,onHide:function(){return x(!1)},image:f,onChooseImage:function(e){return b(e)},removeImage:h,relaunch:function(){x(!1),setTimeout((function(){x(!0)}),500)}}),"web"===Et.a.OS&&v.NFCValidation&&c.a.createElement(ys,{isVisible:I,onHide:function(){return k(!1)},question:v,onChooseNfc:n}))};var Es=function(e){var t=e.text,n=e.imageId,a=e.isVisible,r=e.onHide;return c.a.createElement(hs,{backdropColor:m.a.value("$white"),backdropOpacity:.75,isVisible:a,onBackdropPress:r,onBackButtonPress:r,animationIn:"zoomIn",animationOut:"zoomOut",onSwipeComplete:r,useNativeDriver:!0,swipeDirection:["down","left","up","right"]},c.a.createElement(j.a,{style:cs.modalContainer},c.a.createElement(j.a,{style:cs.modalImageContainer},c.a.createElement(bi,{style:[cs.modalImage,"web"===Et.a.OS&&cs.modalImageWeb],resizeMode:"contain",source:{uri:xt()+"/action/getSecureFiles?id="+n}})),c.a.createElement(j.a,{style:cs.modalContent},c.a.createElement(Xr,null,t))))};var Os=function(e){var t,n=e.question,a=Object(s.useState)(!1),r=i()(a,2),o=r[0],l=r[1];return console.log(null===n||void 0===n?void 0:n.response.length,null===n||void 0===n?void 0:n.responseType),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{style:[us.card,(null===n||void 0===n?void 0:n.deficiency)&&us.cardUrgent]},!!(null===n||void 0===n?void 0:n.deficiency)&&c.a.createElement(j.a,{style:us.urgentPill},c.a.createElement(I.a,{name:"md-warning",style:us.urgentIcon}),c.a.createElement(ha.a,{style:us.urgentText},Sa("Urgent"))),c.a.createElement(j.a,{style:us.cardHeader},c.a.createElement(ha.a,{style:us.title},"Question "+(n.i+1)),("yes-no"===(null===n||void 0===n?void 0:n.responseType)||"confirm"===(null===n||void 0===n?void 0:n.responseType))&&c.a.createElement(ps,{read:!0,value:JSON.parse(null===n||void 0===n?void 0:n.response)})),c.a.createElement(ha.a,{style:us.subTitle},n.name),c.a.createElement(Xr,null,n.description),(null===n||void 0===n?void 0:n.pictureOption)&&(null===n||void 0===n?void 0:n.picture)&&c.a.createElement(ga.a,{onPress:function(){return l(!0)}},c.a.createElement(j.a,{accessible:!0,style:us.viewPicture},c.a.createElement(I.a,{style:us.viewPictureIcon,name:"ios-image"}),c.a.createElement(ha.a,{style:us.viewPictureText},Sa("View picture")))),"text"===(null===n||void 0===n?void 0:n.responseType)&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Or,{title:Sa("Explanation")}),c.a.createElement(Xr,null,""===(null===n||void 0===n?void 0:n.response)?"None":null!=(t=null===n||void 0===n?void 0:n.response)?t:"None"))),(null===n||void 0===n?void 0:n.pictureOption)&&(null===n||void 0===n?void 0:n.picture)&&c.a.createElement(Es,{isVisible:o,onHide:function(){return l(!1)},text:n.name,imageId:null===n||void 0===n?void 0:n.picture}))},ws=n(162),Ss=n(1033),xs=n(133);var Cs=function(e){var t=e.question,n=e.setNfcValidation,a=e.deleteNfc,o=e.addNfc,l=e.editNfc,u=Object(s.useState)(!1),d=i()(u,2),p=d[0],f=d[1],b=Object(s.useState)(null),h=i()(b,2),g=h[0],y=h[1],v=Object(s.useState)(""),E=i()(v,2),O=E[0],w=E[1],S=Object(s.useState)(""),x=i()(S,2),C=x[0],T=x[1];Object(s.useEffect)((function(){w("number"===typeof g?t.NFCTitle[g]:"No title"),T("number"===typeof g?t.NFCData[g]:String(Math.round(1e5*Math.random())))}),[g,p]);var k=Object(s.useState)({}),N=i()(k,2),P=N[0],R=N[1];function A(){xs.c.cancelTechnologyRequest().catch((function(){return 0}))}return Object(s.useEffect)((function(){return function(){var e;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(At.getUser());case 2:e=t.sent,R(e);case 4:case"end":return t.stop()}}))}(),function(){A()}}),[]),Object(s.useEffect)((function(){f(!1)}),[null===t||void 0===t?void 0:t.NFCTag]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{style:us.card},c.a.createElement(j.a,{style:us.cardHeader},c.a.createElement(ha.a,{style:us.title},"Question "+(t.i+1))),c.a.createElement(ha.a,{style:us.subTitle},t.name),c.a.createElement(Xr,null,t.description),("0"===(null===P||void 0===P?void 0:P.addInfo1)||"1"===(null===P||void 0===P?void 0:P.addInfo1))&&"web"!==Et.a.OS&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ms,{value:null===t||void 0===t?void 0:t.NFCValidation,onValueChange:function(){var e;return n(!(null!=(e=null===t||void 0===t?void 0:t.NFCValidation)&&e))},label:"Active NFC tag"}),(null===t||void 0===t?void 0:t.NFCValidation)&&c.a.createElement(c.a.Fragment,null,c.a.createElement(tr,{title:"Add an NFC tag",onPress:function(){f(!0),y(null)}}),(null===t||void 0===t?void 0:t.NFCTag.split(",").length)>0&&""!==(null===t||void 0===t?void 0:t.NFCTag)&&t.NFCTag.split(",").map((function(e,n){var a,r;return c.a.createElement(tr,{key:e,theme:"altLight",title:"Edit '"+(null!=(a=null===t||void 0===t||null===(r=t.NFCTitle)||void 0===r?void 0:r[n])?a:"Unnamed")+"' NFC tag",onPress:function(){f(!0),y(n)}})}))))),c.a.createElement(hs,{isVisible:p,backdropColor:m.a.value("$white"),backdropOpacity:.75,animationIn:"zoomIn",animationOut:"zoomOut",onBackdropPress:function(){return f(!1)},onBackButtonPress:function(){return f(!1)},onSwipeComplete:function(){return f(!1)},swipeDirection:["down","left","up","right"],useNativeDriver:!0},c.a.createElement(j.a,{style:ls.modalView},c.a.createElement(j.a,{style:ls.content},c.a.createElement(j.a,{style:{flex:1}},c.a.createElement(Va,null,"number"===typeof g?"Edit NFC tag":"Add NFC tag"),c.a.createElement(Za,{placeholder:"Name",value:O,onChangeText:w}),c.a.createElement(Za,{placeholder:"NFC tag code",value:C,onChangeText:T}))),c.a.createElement(j.a,{style:ls.content},c.a.createElement(Yr.a,{onPress:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"android"===Et.a.OS&&ws.a.show("Ready to write! Approach an NFC Tag",ws.a.LONG),t.next=4,r.a.awrap(xs.c.requestTechnology(xs.b.Ndef,{alertMessage:"Ready to write!"}));case 4:return t.next=6,r.a.awrap(xs.c.getNdefMessage());case 6:return e=xs.a.encodeMessage([xs.a.textRecord(String(C))]),t.next=9,r.a.awrap(xs.c.writeNdefMessage(e));case 9:return t.next=11,r.a.awrap(xs.c.setAlertMessageIOS("Tag defined!"));case 11:"android"===Et.a.OS&&ws.a.show("Tag defined!",ws.a.LONG),A(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.warn(t.t0),A();case 19:case"end":return t.stop()}}),null,null,[[0,15]])},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleReplace]},c.a.createElement(Ss.a,{style:ls.icon,name:"nfc"})),c.a.createElement(ha.a,{style:ls.roundControlText},"Write on an NFC Tag")),"number"===typeof g&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Yr.a,{onPress:function(){l(O,C,g),f(!1)},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleInsert]},c.a.createElement(I.a,{style:ls.icon,name:"md-checkmark"})),c.a.createElement(ha.a,{style:ls.roundControlText},"Save")),c.a.createElement(Yr.a,{onPress:function(){return a(g)},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleDelete]},c.a.createElement(Oo.a,{style:[ls.icon,ls.iconDelete],name:"trash-2"})),c.a.createElement(ha.a,{style:ls.roundControlText},"Delete"))),"number"!==typeof g&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Yr.a,{onPress:function(){return o(O,C)},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleInsert]},c.a.createElement(I.a,{style:ls.icon,name:"md-checkmark"})),c.a.createElement(ha.a,{style:ls.roundControlText},"Add")),c.a.createElement(Yr.a,{onPress:function(){return f(!1)},style:ls.roundControl},c.a.createElement(j.a,{style:[ls.bubble,ls.bubbleDelete]},c.a.createElement(Oo.a,{style:[ls.icon,ls.iconDelete],name:"trash-2"})),c.a.createElement(ha.a,{style:ls.roundControlText},"Cancel")))))))};var Ts=function(e){var t=e.nfc,n=e.setNfc,a=e.nfcTapped,r=e.deficiency,o=e.setDeficiency,i=e.deficiencyMessage,s=e.setDeficiencyMessage,l=e.toggly,u=e.setToggly,d=e.image,p=e.setImage,m=e.text,f=e.setText,b=e.question,h=e.setNfcValidation,g=e.deleteNfc,y=e.addNfc,v=e.editNfc,E=e.current,O=Object(C.h)().state;return(null===O||void 0===O?void 0:O.type)===Zi.UPDATE||(null===O||void 0===O?void 0:O.type)===Zi.CREATE?c.a.createElement(vs,{question:b,nfc:t,nfcTapped:a,setImage:p,setDeficiency:o,setToggly:u,deficiency:r,toggly:l,image:d,text:m,setText:f,deficiencyMessage:i,setDeficiencyMessage:s,setNfc:n,current:E}):(null===O||void 0===O?void 0:O.type)===Zi.READ?c.a.createElement(Os,{question:b}):c.a.createElement(Cs,{question:b,setNfcValidation:h,deleteNfc:g,addNfc:y,editNfc:v})},js=m.a.create({controls:{marginTop:"1rem",paddingHorizontal:"1rem"},scrollInner:{flexGrow:1},modalContainer:{marginVertical:"1rem",backgroundColor:"$white",borderRadius:"$borderRadius",shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.34,shadowRadius:6.27,elevation:10,paddingHorizontal:"1rem",paddingVertical:"2rem"},content:{paddingHorizontal:"3rem",flexDirection:"row",justifyContent:"space-between"},roundControl:{alignItems:"center",justifyContent:"center"},bubble:{height:"3rem",width:"3rem",aspectRatio:1,borderRadius:"1.5rem",alignItems:"center",justifyContent:"center",marginBottom:".5rem"},bubbleReplace:{backgroundColor:"$blue"},bubbleInsert:{backgroundColor:"$green"},icon:{fontSize:"1.5rem",color:"$white"},roundControlText:{fontFamily:"$fontMedium",fontSize:".6rem",color:"$grey",textAlign:"center"},descriptionItems:{paddingVertical:"2rem",paddingHorizontal:"1rem"}});var Is=function(e){var t=e.isVisible,n=e.onHide,a=Object(C.g)();return c.a.createElement(hs,{backdropColor:m.a.value("$white"),backdropOpacity:.75,isVisible:t,onBackdropPress:n,onBackButtonPress:n,animationIn:"zoomIn",animationOut:"zoomOut",onSwipeComplete:n,useNativeDriver:!0,swipeDirection:["down","left","up","right"]},c.a.createElement(j.a,{style:js.modalContainer},c.a.createElement(Va,{title:Sa("Save and Exit")}),c.a.createElement(Xr,null,"You can leave this checklist and continue later. All your responses will be kept"),c.a.createElement(j.a,{style:js.content},c.a.createElement(Yr.a,{onPress:a.goBack,style:js.roundControl},c.a.createElement(j.a,{style:[js.bubble,js.bubbleInsert]},c.a.createElement(I.a,{style:js.icon,name:"md-checkmark"})),c.a.createElement(ha.a,{style:js.roundControlText},Sa("Save and Exit"))),c.a.createElement(Yr.a,{onPress:n,style:js.roundControl},c.a.createElement(j.a,{style:[js.bubble,js.bubbleReplace]},c.a.createElement(Oo.a,{style:js.icon,name:"edit"})),c.a.createElement(ha.a,{style:js.roundControlText},Sa("Continue"))))))},ks="containers/Location/Checklist/NFC_SUPPORT",Ns="containers/Location/Checklist/NFC_ENABLED",Ps="containers/Location/Checklist/MODAL",Rs="containers/Location/Checklist/RESET_NFC",As="containers/Location/Checklist/POLLING_NFC",Fs="containers/Location/Checklist/HAVE_SEND_RESPONSE",Ds="containers/Location/Checklist/SET_CURRENT",Ls={loading:!1,nfc:{supported:!0,enabled:!0,polling:1},modal:!1,haveSendResponse:!1,current:0},Bs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ls,t=arguments.length>1?arguments[1]:void 0;return Object(Se.a)(e,(function(e){switch(t.type){case ks:e.nfc.supported=t.value;break;case Ns:e.nfc.enabled=t.value,e.nfc.supported=t.value||e.nfc.supported;break;case Ps:e.modal=t.value;break;case Rs:e.nfc.enabled=!0,e.nfc.supported=!0,e.nfc.polling=1;break;case As:e.nfc.polling+=e.nfc.polling;break;case Fs:e.haveSendResponse=!0;break;case"containers/Location/Checklist/RESET":Object.keys(Ls).forEach((function(t){e[t]=Ls[t]}));break;case Ds:e.current=t.current}}))},Ms=function(e){return e.locationchecklist||Ls},$s=function(){return Object(oa.a)(Ms,(function(e){return e}))};var Us=m.a.create({item:{flexDirection:"row",paddingVertical:".5rem"},title:{width:"50%",fontSize:".8rem",fontFamily:"$fontBold",color:"$text"},value:{width:"50%",fontSize:".8rem",fontFamily:"$fontRegular",color:"$text"}});var zs=function(e){var t=e.title,n=e.value,a=e.separator;return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{style:Us.item},c.a.createElement(ha.a,{style:Us.title},t),c.a.createElement(ha.a,{style:Us.value},n)),a&&c.a.createElement(Mr,{small:!0}))};var _s=function(e){var t=e.currentResponse,n=Object(s.useState)("Loading name..."),a=i()(n,2),o=a[0],l=a[1],u=Object(s.useState)(!1),d=i()(u,2),p=d[0],m=d[1];return Object(s.useEffect)((function(){(null===t||void 0===t?void 0:t.field6)&&function(e){var t,n,a,o;r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t={url:xt()+"/action/sbGetPersonName",method:"POST",params:{ajax:!0,id:e}},i.next=4,r.a.awrap(Dt(t));case 4:n=i.sent,(null===(a=n.data)||void 0===a?void 0:a.error)&&"object"!==typeof a?(m(!0),L.captureMessage(a)):(o=a.person.fullName,l(de.a.decode(o))),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(0),L.captureException(i.t0);case 12:case"end":return i.stop()}}),null,null,[[0,9]])}(null===t||void 0===t?void 0:t.field6)}),[t.id]),c.a.createElement(j.a,{style:js.descriptionItems},!p&&c.a.createElement(zs,{separator:!0,title:Sa("Completed by"),value:o}),c.a.createElement(zs,{title:Sa("Date completed"),value:null===t||void 0===t?void 0:t.dateField1}))};function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gs=Object(oa.b)({checklist:$s(),checklists:ts(),inProgress:as(),loading:Object(oa.a)(es,(function(e){return e.loadingSendResponse})),responses:ns()});var Vs=Object(u.c)(Gs,(function(e){return{handleSetModal:function(t){return e(function(e){return{type:Ps,value:e}}(t))},handleSetNfcSupport:function(t){return e(function(e){return{type:ks,value:e}}(t))},handleSetNfcEnabled:function(t){return e(function(e){return{type:Ns,value:e}}(t))},handleResetNfc:function(){return e({type:Rs})},handleReset:function(){return e({type:"containers/Location/Checklist/RESET"})},handlePollingNfc:function(){return e({type:As})},handleSetQuestionDeficiency:function(t,n,a,r){return e(function(e,t,n,a){return{type:"app/ButtonsProvider/SET_QUESTION_DEFICIENCY",active:e,message:t,questionIndex:n,checklistId:a}}(t,n,a,r))},handleSetQuestionResponse:function(t,n,a,r){return e(function(e,t,n,a){return{type:"app/ButtonsProvider/SET_QUESTION_RESPONSE",response:e,responseType:t,questionIndex:n,checklistId:a}}(t,n,a,r))},handleSetQuestionNFC:function(t,n,a){return e(function(e,t,n){return{type:Ze,value:e,questionIndex:t,checklistId:n}}(t,n,a))},handleSetQuestionPic:function(t,n,a){return e(function(e,t,n){return{type:Xe,pic:e,questionIndex:t,checklistId:n}}(t,n,a))},handleSendResponse:function(t){return e(function(e){return{type:at,response:e}}(t))},handleHaveSendResponse:function(){return e({type:Fs})},handleSetCurrent:function(t){return e(function(e){return{type:Ds,current:e}}(t))}}})),qs=Object(ge.d)(s.memo,Vs)((function(e){var t,n,a,o,i,l=e.loading,u=e.checklist,d=e.handleSetModal,p=e.handleReset,m=e.checklists,f=e.inProgress,b=e.handleSetQuestionDeficiency,h=e.handleSetQuestionResponse,g=e.handleSetQuestionNFC,y=e.handleSetQuestionPic,v=e.handleSendResponse,E=e.handleHaveSendResponse,O=e.responses,w=e.handleSetCurrent;Ea({key:"locationchecklist",reducer:Bs});var S=Object(C.g)(),x=Object(C.h)(),T=Object(C.i)(),I=T.checklistId,k=T.responseId,N=m.find((function(e){return Number(e.id)===Number(I)})),P=null;f.length>0&&(P=f.find((function(e){return Number(e.checklist)===Number(I)})));var R=!!P||!1,A=JSON.parse(N.field8).questions,F=[];A.forEach((function(e,t){F.push(Ys({},e,{i:t,key:""+t+e.name}))}));var D,B,M,$={};function U(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:(t=F.find((function(t){if(t.NFCValidation&&t.NFCTag)for(var n=0;n<t.NFCData.length;n+=1){if(t.NFCData[n].toString()===e.toString())return!0}return!1})))?g(!0,t.i,I):ar.alert(Sa("nfcNoMatchTitle"),Sa("nfcNoMatchMessage"));case 2:case"end":return n.stop()}}))}function z(e){var t,n,a,r,o,i,s,c,l=e.NFCValidation,u=e.responseType,d=e.i,p=null!=(t=null===(n=P)||void 0===n?void 0:n["question"+d+"nfc"])&&t;if(l&&!p)return!1;var m="";switch(u){case"text":if(m=null!=(a=null===(r=P)||void 0===r?void 0:r["question"+d])?a:"",console.log(m),""===m)return!1;break;case"confirm":if(null===(null!=(o=null===(i=P)||void 0===i?void 0:i["question"+d])?o:null))return!1;break;case"yes-no":if(null===(null!=(s=null===(c=P)||void 0===c?void 0:c["question"+d])?s:null))return!1}return!0}return k&&x.state.type===Zi.READ&&(F=[],$=O.find((function(e){var t;return Number(null!=(t=null===e||void 0===e?void 0:e.id)?t:-1)===Number(k)})),(null!=(D=null===(B=JSON.parse(null===(M=$)||void 0===M?void 0:M.field3))||void 0===B?void 0:B.questions)?D:[]).forEach((function(e,t){F.push(Ys({},e,{i:t,key:""+t+e.name}))}))),Object(s.useEffect)((function(){return L.addBreadcrumb({category:"Button",message:null===N||void 0===N?void 0:N.field2,level:L.Severity.Info}),function(){p()}}),[I]),Object(s.useEffect)((function(){!P&&u.haveSendResponse&&ar.alert(Sa("checklistSendSuccessTitle"),Sa("checklistSendSuccessMessage"),[{text:Sa("OK"),onPress:S.goBack}],{cancelable:!1})}),[P,u.haveSendResponse]),Object(s.useEffect)((function(){l.error&&ar.alert(Sa("newPasswordServerErrorTitle"),Sa("newPasswordServerErrorMessage"),[{text:Sa("OK"),onPress:S.goBack}])}),[l.error]),Object(s.useEffect)((function(){return w(0),function(){w(0)}}),[]),Object(s.useEffect)((function(){for(var e=0;e<F.length;e+=1){if(!z(F[e])){w(e);break}}}),[P]),c.a.createElement(na.a,{behavior:"position"},c.a.createElement(ga.c,{contentContainerStyle:js.scrollInner},c.a.createElement(Ei,{title:Sa("Checklist"),context:N.field2,icon:"md-pin"}),(null===(t=x.state)||void 0===t?void 0:t.type)===Zi.READ&&c.a.createElement(_s,{currentResponse:$}),c.a.createElement(Eo,{noPaddingHorizontal:!0},F.map((function(e){return function(e){var t,n,a,r,o,i,s,l,d,p,m,f,g,v,E=e.responseType,O=e.key,w=e.i,S=null!=(t=null===(n=P)||void 0===n?void 0:n["question"+e.i+"deficiency"])?t:"",x=null!=(a=null===(r=P)||void 0===r?void 0:r["question"+e.i+"activeDeficiency"])&&a,C=null,T="";switch(E){case"text":T=null!=(o=null===(i=P)||void 0===i?void 0:i["question"+e.i])?o:"";break;case"confirm":C=null!=(s=null===(l=P)||void 0===l?void 0:l["question"+e.i])?s:null;break;case"yes-no":C=null!=(d=null===(p=P)||void 0===p?void 0:p["question"+e.i])?d:null}return c.a.createElement(Ts,{key:O,question:e,nfc:null!=(m=null===(f=P)||void 0===f?void 0:f["question"+e.i+"nfc"])&&m,setNfc:U,nfcTapped:U,deficiency:x,setDeficiency:function(e){return b(e,S,w,I)},toggly:C,setToggly:function(e){return h("confirm"===E?e||null:e,E,w,I)},image:null!=(g=null===(v=P)||void 0===v?void 0:v["question"+e.i+"pic"])&&g,setImage:function(e){return y(e,w,I)},text:T,setText:function(e){return h(e,E,w,I)},deficiencyMessage:S,setDeficiencyMessage:function(e){return b(x,e,w,I)},current:u.current===w})}(e)})),((null===(n=x.state)||void 0===n?void 0:n.type)===Zi.READ||(null===(a=x.state)||void 0===a?void 0:a.type)===Zi.VIEW)&&c.a.createElement(j.a,{style:js.controls},c.a.createElement(tr,{theme:"alt",onPress:S.goBack,title:Sa("Back to checklist")})),((null===(o=x.state)||void 0===o?void 0:o.type)===Zi.CREATE||(null===(i=x.state)||void 0===i?void 0:i.type)===Zi.UPDATE)&&c.a.createElement(j.a,{style:js.controls},c.a.createElement(tr,{theme:"alt",onPress:function(){return d(!0)},title:Sa("Save and exit")}),c.a.createElement(tr,{loading:l.loading,onPress:function(){var e=!0;F.forEach((function(t){var n,a,r=t.NFCValidation,o=t.i,i=!!R&&!!P["question"+o+"nfc"],s=!!R&&("boolean"===typeof(null===(n=P)||void 0===n?void 0:n["question"+o])||"string"===typeof(null===(a=P)||void 0===a?void 0:a["question"+o]));r&&!i&&(ar.alert(Sa("missingNFCValidationTitle"),"You have to scan the NFC Tag required in: Question "+(o+1)),e=!1),s||(ar.alert(Sa("missingResponseValidationTitle"),"You have to give your response in: Question "+(o+1)),e=!1)})),e&&(E(),v(P))},title:Sa("Submit")})))),c.a.createElement(Is,{isVisible:u.modal,onHide:function(){return d(!1)}}))})),Ws=m.a.create({heading:{paddingTop:"1rem",paddingHorizontal:"1rem",borderBottomWidth:1,borderBottomColor:"$borderColor"},doc:{flex:1,backgroundColor:"$text"},pdf:{flex:1}});var Js=Object(oa.b)({buttons:di()}),Qs=Object(u.c)(Js),Ks=Object(ge.d)(Qs,s.memo)((function(e){var t=e.buttons,n=Object(s.useState)(""),a=i()(n,2),o=a[0],l=a[1],u=Object(s.useState)(!1),d=i()(u,2),p=d[0],m=d[1],f=Object(C.i)().documentId,b=t.find((function(e){return e.id===f})),h=b.field2,g=b.field7,y=b.field3,v=h,E=Number(g),O={uri:xt()+"/action/getSecureFiles?id="+E,cache:!0};return Object(s.useEffect)((function(){!function(){var e,t;r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(ae.a.get(O.uri,{responseType:"blob"}));case 3:e=n.sent,t=URL.createObjectURL(e.data),l(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),m(!0);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}()}),[E]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{style:Ws.heading},c.a.createElement(Or,{title:v}),!!y&&y.length>0&&c.a.createElement(Xr,null,y),p&&c.a.createElement(Xr,null,"Unfortunately, there is no document associated with this button.")),c.a.createElement(j.a,{style:Ws.doc},c.a.createElement("iframe",{style:{height:"100%"},title:v,src:o})))}));var Zs=Object(C.j)((function(e){var t=e.match;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C.d,null,c.a.createElement(C.b,{exact:!0,path:t.path+"/button/:buttonId",component:Hi}),c.a.createElement(C.b,{exact:!0,path:t.path+"/button/:buttonId/documents",component:Ji}),c.a.createElement(C.b,{exact:!0,path:t.path+"/button/:buttonId/field",component:qi}),c.a.createElement(C.b,{exact:!0,path:t.path+"/button/:buttonId/checklist",component:is}),c.a.createElement(C.b,{exact:!0,path:t.path+"/contact",component:Fi}),c.a.createElement(C.b,{exact:!0,path:t.path+"/infrastructure",component:$i}),c.a.createElement(C.b,{exact:!0,path:[t.path+"/checklist/:checklistId",t.path+"/checklist/:checklistId/:responseId"],component:qs}),c.a.createElement(C.b,{exact:!0,path:t.path+"/document/:documentId",component:Ks}),c.a.createElement(C.b,{component:yi})))})),Xs=n(180),ec=m.a.create({heading:{paddingTop:"2rem",paddingHorizontal:"1rem"}}),tc=m.a.create({container:{},innerContainer:{paddingBottom:"1rem",alignItems:"center"},card:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,borderRadius:"$borderRadius",backgroundColor:"$white",borderWidth:1,borderColor:"$greyLighter",padding:"1rem",width:"100% - 2rem",marginHorizontal:"1rem"},cardWeb:{width:"20rem",maxWidth:"100%",flex:2},cardIsNew:{borderColor:"$red"},title:{fontSize:"1rem",fontFamily:"$fontMedium",color:"$text"},controlsContainer:{flexDirection:"row",padding:".5rem"},control:{height:"2.5rem",width:"2.5rem",aspectRatio:1,borderWidth:3,borderColor:"$grey",borderRadius:"1.25rem",alignItems:"center",justifyContent:"center",margin:".5rem"},controlGo:{borderColor:"$green"},controlCancel:{borderColor:"$red"},controlIcon:{fontSize:"2rem",color:"$grey",lineHeight:"2.2rem"},controlIconGo:{color:"$green"},controlIconCancel:{color:"$red"},urgentPill:{backgroundColor:"$red",height:"2rem",justifyContent:"flex-start",alignItems:"center",borderRadius:"1rem",marginBottom:"1rem",width:"50%",flexDirection:"row"},urgentIcon:{color:"$white",fontSize:"1.25rem",paddingLeft:"1rem",paddingRight:".5rem"},urgentText:{color:"$white",fontFamily:"$fontBold",fontSize:"1rem"}});var nc=function(e){var t,n,a=e.notification,r=e.onDelete,o=Object(C.g)();return c.a.createElement(ga.c,{style:tc.container,contentContainerStyle:tc.innerContainer,showsHorizontalScrollIndicator:"web"===Et.a.OS,horizontal:!0,snapToOffsets:[0,200],snapToAlignment:"start"},c.a.createElement(j.a,{style:[tc.card,"false"===a.field4&&tc.cardIsNew,"web"===Et.a.OS&&tc.cardWeb]},c.a.createElement(ha.a,{style:tc.title},a.location.field2),c.a.createElement(Mr,null),c.a.createElement((function(){switch(a.field3){case"0":return c.a.createElement(Or,{title:Sa("Response")});case"1":return c.a.createElement(Or,{title:Sa("Reminder")});case"2":return c.a.createElement(Or,{title:Sa("New user")});case"3":return c.a.createElement(Or,{title:Sa("New location")});default:return null}}),null),"true"===(null===a||void 0===a?void 0:a.field6)&&c.a.createElement(j.a,{style:tc.urgentPill},c.a.createElement(I.a,{name:"md-warning",style:tc.urgentIcon}),c.a.createElement(ha.a,{style:tc.urgentText},Sa("Urgent"))),("0"===a.field3||"1"===a.field3)&&c.a.createElement(Xr,null,null!=(t=null===a||void 0===a||null===(n=a.checklist)||void 0===n?void 0:n.field2)?t:"... Loading checklist title"),c.a.createElement(Xr,null,a.dateField1)),c.a.createElement(j.a,{style:tc.controlsContainer},c.a.createElement(ga.b,{onPress:function(){return o.push(function(){var e,t,n;switch(a.field3){case"0":var r,o;return(null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.field2)||(null===a||void 0===a||null===(t=a.checklist)||void 0===t?void 0:t.id)?{pathname:"/location/"+a.location.id+"/checklist/"+(null!=(r=null===a||void 0===a||null===(o=a.checklist)||void 0===o?void 0:o.id)?r:a.response.field2)+"/"+a.field5,state:{type:Zi.READ}}:"/location/"+a.location.id;case"1":return(null===a||void 0===a||null===(n=a.checklist)||void 0===n?void 0:n.id)?"/location/"+a.location.id+"/button/"+a.checklist.field5+"/checklist":"/location/"+a.location.id;case"2":case"3":return"/location/"+a.location.id;default:return""}}())}},c.a.createElement(j.a,{accessible:!0,style:[tc.control,tc.controlGo]},c.a.createElement(I.a,{style:[tc.controlIcon,tc.controlIconGo],name:"ios-arrow-round-forward"}))),c.a.createElement(ga.b,{onPress:r},c.a.createElement(j.a,{accessible:!0,style:[tc.control,tc.controlCancel]},c.a.createElement(I.a,{style:[tc.controlIcon,tc.controlIconCancel],name:"ios-close"})))))},ac=function(e){return e.notifications||mt};function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){$()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ic=Object(oa.b)({notifications:Object(oa.a)(ac,(function(e){return e.notifications})),pageNotifications:Object(oa.a)(ac,(function(e){return e.page})),locations:go(),responses:ns(),checklists:ts()});var sc=Object(u.c)(ic,(function(e){return{dispatch:e,handleDeleteNotification:function(t){return e(function(e){return{type:ut,id:e}}(t))},handleSeenNotification:function(t){return e(function(e){return{type:dt,id:e}}(t))},handleLoadNotifications:function(t,n){return e(zt(t,n,!0))},handleResetPageNotification:function(){return e({type:pt})}}})),cc=Object(ge.d)(sc,s.memo)((function(e){var t,n=e.notifications,a=e.locations,o=e.checklists,i=e.responses,l=e.handleSeenNotification,u=e.handleDeleteNotification,d=e.handleLoadNotifications,p=e.handleResetPageNotification,m=e.pageNotifications,f=Object(C.g)(),b=[],h=[];return n.forEach((function(e){var t="true"===e.field4,n=H.a.findIndex(a,{id:(null===e||void 0===e?void 0:e.field2)?e.field2.toString():"-1"}),r=a[n],s=oc({},e,{location:r});"1"===e.field3&&(s=oc({},s,{checklist:o.find((function(t){return t.id===e.field5.toString()}))}));if("0"===e.field3){var c=i.find((function(t){var n=t.id;return(n?n.toString():"-1")===e.field5.toString()})),l=o.find((function(e){var t=e.id;return(null===c||void 0===c?void 0:c.field2)===t}));s=oc({},s,{response:c,checklist:l})}if(b.push(s),!t){var u=e.id;h.push(u)}})),Object(s.useEffect)((function(){return function(e){var t;r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(At.getUser());case 2:t=n.sent,d(t,Number(e)||Number(m)+1);case 4:case"end":return n.stop()}}))}(1),function(){p()}}),[n.page]),Object(s.useEffect)((function(){return t=setTimeout((function(){h.forEach((function(e){return l(e)}))}),3e3),function(){clearTimeout(t)}}),[b]),c.a.createElement(Xs.a,{data:b,ListHeaderComponent:c.a.createElement(j.a,{style:["web"===Et.a.OS&&ec.heading]},c.a.createElement(Va,{title:Sa("Notifications")}),b.length>0&&c.a.createElement(Xr,null,Sa("SwipeNotifDescription"))),ListHeaderComponentStyle:ec.heading,renderItem:function(e){var t=e.item;return c.a.createElement(nc,{notification:t,onDelete:function(){return u(t.id)}})},ListEmptyComponent:function(){return c.a.createElement(j.a,{style:{padding:20}},c.a.createElement(Xr,null,"You do not have any notification yet."),c.a.createElement(tr,{title:"Return to the home page",onPress:function(){return f.push("/dashboard")}}))}})}));function lc(e){var t=e.component,n=x()(e,["component"]);return c.a.createElement(C.b,w()({},n,{render:function(e){return At.getUser()?c.a.createElement(t,e):c.a.createElement(C.a,{to:{pathname:"/"}})}}))}var uc=function(){return ee({key:"locations",saga:en}),ee({key:"buttons",saga:ln}),ee({key:"user",saga:_n}),ee({key:"checklists",saga:Rn}),ee({key:"notifications",saga:Xn}),c.a.createElement(j.a,{style:ea.backgroundWeb},c.a.createElement(T.a,null,c.a.createElement(B,{style:[ea.container,ea.containerWeb]},c.a.createElement(C.d,null,c.a.createElement(C.b,{exact:!0,path:"/",component:oo}),c.a.createElement(C.b,null,c.a.createElement(D,null),c.a.createElement(j.a,{style:{flex:1,height:"calc(100vh - 54px - 54px)",maxHeight:"calc(100vh - 54px - 54px)",overflow:"scroll"}},c.a.createElement(C.d,null,c.a.createElement(lc,{exact:!0,path:"/dashboard",component:Ao}),c.a.createElement(lc,{path:"/location/:locationId",component:Zs}),c.a.createElement(lc,{path:"/notifications",component:cc}),c.a.createElement(lc,{exact:!0,path:"/search",component:No}),c.a.createElement(lc,{exact:!0,path:"/help",component:Do}),c.a.createElement(C.b,{exact:!0,path:"/terms-and-conditions",component:Bo}),c.a.createElement(lc,{exact:!0,path:"/my-account",component:ri}),c.a.createElement(lc,{exact:!0,path:"/contact",component:zo}),c.a.createElement(lc,{component:oo}))),c.a.createElement($o,null),c.a.createElement(b.c,{name:"fab"}))))))},dc=n(610),pc=n.n(dc),mc=n(611),fc=n.n(mc),bc=n(612),hc=n.n(bc),gc=n(613),yc=n.n(gc);m.a.build(E),h.e({dsn:"http://238950e5adcd4dc4a5c262a9e27887ea@sentry.one-moreday.com:9000/4"});t.a=function(){var e=Object(s.useState)(!1),t=i()(e,2),n=t[0],a=t[1];return n?c.a.createElement(u.a,{store:vt},c.a.createElement(f.a,{loading:null,persistor:vt.persistor},c.a.createElement(b.b,null,c.a.createElement(uc,null)))):c.a.createElement(l.a,{startAsync:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.awrap(Promise.all([p.a.fromModule(ca.a).downloadAsync(),p.a.fromModule(yc.a).downloadAsync(),d.b({"Montserrat-Bold":pc.a,"Montserrat-Medium":fc.a,"Montserrat-Regular":hc.a})]));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:case 9:case"end":return e.stop()}}),null,null,[[0,5]])},onFinish:function(){return a(!0)}})}},629:function(e,t,n){n(630),e.exports=n(631)},630:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},958:function(e,t,n){var a={"./af":420,"./af.js":420,"./ar":421,"./ar-dz":422,"./ar-dz.js":422,"./ar-kw":423,"./ar-kw.js":423,"./ar-ly":424,"./ar-ly.js":424,"./ar-ma":425,"./ar-ma.js":425,"./ar-sa":426,"./ar-sa.js":426,"./ar-tn":427,"./ar-tn.js":427,"./ar.js":421,"./az":428,"./az.js":428,"./be":429,"./be.js":429,"./bg":430,"./bg.js":430,"./bm":431,"./bm.js":431,"./bn":432,"./bn.js":432,"./bo":433,"./bo.js":433,"./br":434,"./br.js":434,"./bs":435,"./bs.js":435,"./ca":436,"./ca.js":436,"./cs":437,"./cs.js":437,"./cv":438,"./cv.js":438,"./cy":439,"./cy.js":439,"./da":440,"./da.js":440,"./de":441,"./de-at":442,"./de-at.js":442,"./de-ch":443,"./de-ch.js":443,"./de.js":441,"./dv":444,"./dv.js":444,"./el":445,"./el.js":445,"./en-SG":446,"./en-SG.js":446,"./en-au":447,"./en-au.js":447,"./en-ca":448,"./en-ca.js":448,"./en-gb":449,"./en-gb.js":449,"./en-ie":450,"./en-ie.js":450,"./en-il":451,"./en-il.js":451,"./en-nz":452,"./en-nz.js":452,"./eo":453,"./eo.js":453,"./es":454,"./es-do":455,"./es-do.js":455,"./es-us":456,"./es-us.js":456,"./es.js":454,"./et":457,"./et.js":457,"./eu":458,"./eu.js":458,"./fa":459,"./fa.js":459,"./fi":460,"./fi.js":460,"./fo":461,"./fo.js":461,"./fr":462,"./fr-ca":463,"./fr-ca.js":463,"./fr-ch":464,"./fr-ch.js":464,"./fr.js":462,"./fy":465,"./fy.js":465,"./ga":466,"./ga.js":466,"./gd":467,"./gd.js":467,"./gl":468,"./gl.js":468,"./gom-latn":469,"./gom-latn.js":469,"./gu":470,"./gu.js":470,"./he":471,"./he.js":471,"./hi":472,"./hi.js":472,"./hr":473,"./hr.js":473,"./hu":474,"./hu.js":474,"./hy-am":475,"./hy-am.js":475,"./id":476,"./id.js":476,"./is":477,"./is.js":477,"./it":478,"./it-ch":479,"./it-ch.js":479,"./it.js":478,"./ja":480,"./ja.js":480,"./jv":481,"./jv.js":481,"./ka":482,"./ka.js":482,"./kk":483,"./kk.js":483,"./km":484,"./km.js":484,"./kn":485,"./kn.js":485,"./ko":486,"./ko.js":486,"./ku":487,"./ku.js":487,"./ky":488,"./ky.js":488,"./lb":489,"./lb.js":489,"./lo":490,"./lo.js":490,"./lt":491,"./lt.js":491,"./lv":492,"./lv.js":492,"./me":493,"./me.js":493,"./mi":494,"./mi.js":494,"./mk":495,"./mk.js":495,"./ml":496,"./ml.js":496,"./mn":497,"./mn.js":497,"./mr":498,"./mr.js":498,"./ms":499,"./ms-my":500,"./ms-my.js":500,"./ms.js":499,"./mt":501,"./mt.js":501,"./my":502,"./my.js":502,"./nb":503,"./nb.js":503,"./ne":504,"./ne.js":504,"./nl":505,"./nl-be":506,"./nl-be.js":506,"./nl.js":505,"./nn":507,"./nn.js":507,"./pa-in":508,"./pa-in.js":508,"./pl":509,"./pl.js":509,"./pt":510,"./pt-br":511,"./pt-br.js":511,"./pt.js":510,"./ro":512,"./ro.js":512,"./ru":513,"./ru.js":513,"./sd":514,"./sd.js":514,"./se":515,"./se.js":515,"./si":516,"./si.js":516,"./sk":517,"./sk.js":517,"./sl":518,"./sl.js":518,"./sq":519,"./sq.js":519,"./sr":520,"./sr-cyrl":521,"./sr-cyrl.js":521,"./sr.js":520,"./ss":522,"./ss.js":522,"./sv":523,"./sv.js":523,"./sw":524,"./sw.js":524,"./ta":525,"./ta.js":525,"./te":526,"./te.js":526,"./tet":527,"./tet.js":527,"./tg":528,"./tg.js":528,"./th":529,"./th.js":529,"./tl-ph":530,"./tl-ph.js":530,"./tlh":531,"./tlh.js":531,"./tr":532,"./tr.js":532,"./tzl":533,"./tzl.js":533,"./tzm":534,"./tzm-latn":535,"./tzm-latn.js":535,"./tzm.js":534,"./ug-cn":536,"./ug-cn.js":536,"./uk":537,"./uk.js":537,"./ur":538,"./ur.js":538,"./uz":539,"./uz-latn":540,"./uz-latn.js":540,"./uz.js":539,"./vi":541,"./vi.js":541,"./x-pseudo":542,"./x-pseudo.js":542,"./yo":543,"./yo.js":543,"./zh-cn":544,"./zh-cn.js":544,"./zh-hk":545,"./zh-hk.js":545,"./zh-tw":546,"./zh-tw.js":546};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=958},997:function(e,t){}},[[629,1,2]]]);
//# sourceMappingURL=app.208034d0.chunk.js.map